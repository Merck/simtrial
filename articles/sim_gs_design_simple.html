<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Simulate Group Sequential Designs with Ease via sim_gs_n • simtrial</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Simulate Group Sequential Designs with Ease via sim_gs_n">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simtrial</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Merck/simtrial/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Simulate Group Sequential Designs with Ease via sim_gs_n</h1>
                        <h4 data-toc-skip class="author">Yujie Zhao and
Keaven Anderson</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Merck/simtrial/blob/main/vignettes/sim_gs_design_simple.Rmd" class="external-link"><code>vignettes/sim_gs_design_simple.Rmd</code></a></small>
      <div class="d-none name"><code>sim_gs_design_simple.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://merck.github.io/gsDesign2/" class="external-link">gsDesign2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://merck.github.io/simtrial/">simtrial</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2025</span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="../reference/sim_gs_n.html">sim_gs_n()</a></code> function simulates group sequential
designs with fixed sample size and multiple analyses. There are many
advantages of calling <code><a href="../reference/sim_gs_n.html">sim_gs_n()</a></code> directly.</p>
<ul>
<li>It is simple, which allows for a single function call to perform
thousands of simulations.</li>
<li>It allows for a variety of testing methods, such as logrank,
weighted logrank test, RMST, and milestone test, via the
<code>test = ...</code> argument.</li>
<li>It automatically implements a parallel computation backend, allowing
users to achieve shorter running times.</li>
<li>It enables flexible data cutting methods for analyses, specifically:
(1) planned calendar time, (2) targeted events, (3) maximum time
extension to reach targeted events, (4) planned minimum time after the
previous analysis, (5) minimal follow-up time after specified enrollment
fraction; various combinations of these cut methods can also be
specified.</li>
</ul>
<p>The process for simulating via <code><a href="../reference/sim_gs_n.html">sim_gs_n()</a></code> is outlined in
Steps 1 to 3 below.</p>
<p>For those interested in more complicated simulations should refer to
the vignette <a href="https://merck.github.io/simtrial/articles/sim_gs_design_custom.html">Custom
Group Sequential Design Simulations: Crafting from Scratch</a>.</p>
<div class="section level2">
<h2 id="step-1-define-design-paramaters">Step 1: Define design paramaters<a class="anchor" aria-label="anchor" href="#step-1-define-design-paramaters"></a>
</h2>
<p>To run simulations for a group sequential design, several design
characteristics are required. The following code creates a design for an
unstratified 2-arm trial with equal randomization. Enrollment is
targeted to last for 12 months at a constant enrollment rate. The
control arm is specified as exponential with a median of 10 months. The
experimental arm distribution has a piecewise exponential distribution
with a delay of 3 months with no benefit relative to control (HR = 1)
followed by a hazard ratio of 0.6 thereafter. Additionally, there is an
exponential dropout rate of 0.001 per month (or unit of time). The set
up of these parameters is similar to the vignette <a href="https://merck.github.io/simtrial/articles/sim_fixed_design_simple.html">Simulate
Fixed Designs with Ease via sim_fixed_n</a>. The total sample size is
derived for 90% power.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stratum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>stratum <span class="op">=</span> <span class="st">"All"</span>, p <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">block</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"experimental"</span>, <span class="st">"control"</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co"># enrollment rate will be updated later, </span></span>
<span><span class="co"># multiplied by a constant to get targeted power</span></span>
<span><span class="va">enroll_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>stratum <span class="op">=</span> <span class="st">"All"</span>, rate <span class="op">=</span> <span class="fl">1</span>, duration <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">fail_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>stratum <span class="op">=</span> <span class="st">"All"</span>,</span>
<span>                        duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="cn">Inf</span><span class="op">)</span>, fail_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fl">10</span>, </span>
<span>                        hr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0.6</span><span class="op">)</span>, dropout_rate <span class="op">=</span> <span class="fl">0.001</span><span class="op">)</span></span>
<span><span class="co"># Derive design using the average hazard ratio method</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://merck.github.io/gsDesign2/reference/gs_design_ahr.html" class="external-link">gs_design_ahr</a></span><span class="op">(</span>enroll_rate <span class="op">=</span> <span class="va">enroll_rate</span>, fail_rate <span class="op">=</span> <span class="va">fail_rate</span>,</span>
<span>                   analysis_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">24</span>, <span class="fl">36</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.025</span>, beta <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>                   <span class="co"># spending function for upper bound</span></span>
<span>                   upper <span class="op">=</span> <span class="va">gs_spending_bound</span>, </span>
<span>                   upar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sf <span class="op">=</span> <span class="fu">gsDesign</span><span class="fu">::</span><span class="va"><a href="https://keaven.github.io/gsDesign/reference/sfLDOF.html" class="external-link">sfLDOF</a></span>, total_spend <span class="op">=</span> <span class="fl">0.025</span><span class="op">)</span>,</span>
<span>                   <span class="co"># Fixed lower bound</span></span>
<span>                   lower <span class="op">=</span> <span class="va">gs_b</span>,</span>
<span>                   lpar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://merck.github.io/gsDesign2/reference/to_integer.html" class="external-link">to_integer</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sample_size</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">$</span><span class="va">analysis</span><span class="op">$</span><span class="va">n</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">event</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">$</span><span class="va">analysis</span><span class="op">$</span><span class="va">event</span></span>
<span><span class="va">eff_bound</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">$</span><span class="va">bound</span><span class="op">$</span><span class="va">z</span><span class="op">[</span><span class="va">x</span><span class="op">$</span><span class="va">bound</span><span class="op">$</span><span class="va">bound</span> <span class="op">==</span> <span class="st">"upper"</span><span class="op">]</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"The total sample size is "</span>, <span class="va">sample_size</span>, <span class="st">"\n"</span>, sep <span class="op">=</span> <span class="st">''</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## The total sample size is 362</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"The number of events at IA1, IA2 and FA are:"</span>, <span class="va">event</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## The number of events at IA1, IA2 and FA are: 106 227 287</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"The efficacy bounds at IA1, IA2 and FA are:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">eff_bound</span>, <span class="fl">3</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## The efficacy bounds at IA1, IA2 and FA are: 3.508 2.269 2.023</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Targeted analysis times:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">analysis</span><span class="op">$</span><span class="va">time</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Targeted analysis times: 12 24 35.9</span></span></code></pre>
<p>Now we get the updated planned enrollment rate from the design to
achieve the above targeted sample size.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">enroll_rate</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">$</span><span class="va">enroll_rate</span></span>
<span><span class="va">enroll_rate</span></span></code></pre></div>
<pre><code><span><span class="co">##   stratum     rate duration</span></span>
<span><span class="co">## 1     All 30.16667       12</span></span></code></pre>
<p>There are additional parameters required for a group sequential
design simulation as demonstrated below. One is the testing method. We
focus on logrank here. Users can change these to other tests of
interest; in comments below we demonstrate logrank and modestly weighted
logrank test (<span class="citation">Magirr and Burman (2019)</span>)
and Fleming-Harrington (<span class="citation">Harrington and Fleming
(1982)</span>) tests; how to set up group sequential designs for these
alternate tests is beyond the scope of this article. More testing
methods are available at <a href="https://merck.github.io/simtrial/reference/index.html#compute-p-values-test-statistics">reference
page of <code>simtrial</code></a>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example for logrank</span></span>
<span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fh.html">fh</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="fl">0</span>, gamma <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">test</span> <span class="op">&lt;-</span> <span class="va">wlr</span></span>
<span><span class="co"># Example for Modestly Weighted Logrank Test (Magirr-Burman)</span></span>
<span><span class="co"># weight &lt;- mb(delay = Inf, w_max = 2)</span></span>
<span><span class="co"># Example for Fleming-Harrington(0, 0.5)</span></span>
<span><span class="co"># weight &lt;- fh(rho = 0, gamma = 0.5)</span></span></code></pre></div>
<p>The final step is to specify how when data is cut off for each
analysis in the group sequential design. The <code><a href="../reference/create_cut.html">create_cut()</a></code>
function includes 5 options for the analysis cutoff:</p>
<ol style="list-style-type: decimal">
<li>planned calendar time,</li>
<li>targeted events,</li>
<li>maximum time extension to reach targeted events,</li>
<li>planned minimum time after the previous analysis, and</li>
<li>minimal follow-up time after specified enrollment fraction.</li>
</ol>
<p>More details and examples are available at the <a href="https://merck.github.io/simtrial/reference/get_analysis_date.html">help
page</a>.</p>
<p>A straightforward method for cutting analyses is based on events. For
instance, the following code specifies 2 interim analyses and 1 final
analysis cut when 106, 227, 287 events occur. <strong>In this
event-driven approach, there is no need to update the efficacy
boundary.</strong></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ia1_cut</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_cut.html">create_cut</a></span><span class="op">(</span>target_event_overall <span class="op">=</span> <span class="va">event</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">ia2_cut</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_cut.html">create_cut</a></span><span class="op">(</span>target_event_overall <span class="op">=</span> <span class="va">event</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">fa_cut</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_cut.html">create_cut</a></span><span class="op">(</span>target_event_overall <span class="op">=</span> <span class="va">event</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cut</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ia1 <span class="op">=</span> <span class="va">ia1_cut</span>, ia2 <span class="op">=</span> <span class="va">ia2_cut</span>, fa <span class="op">=</span> <span class="va">fa_cut</span><span class="op">)</span></span></code></pre></div>
<p>Users can set more complex cutting. For example,</p>
<ul>
<li>The first interim analysis occurs at the targeted IA 1 analyusis
time or when at least the IA 1 targeted events are observed, which is
later. However, if the target number of events is not reached, we will
wait a maximum of 16 months from start of enrollment.</li>
<li>The second interim analysis is targeted to take place at the
targeted time or targeted events for IA 2, whichever is later.
Additionally, this interim analysis will be scheduled at least 10 months
after the first interim analysis, but no later than 28 months from start
of enrollment.</li>
<li>The final analysis is set for the targeted final analysis time or
targeted events at the final analysis, whichever is later. It must be at
least 6 months after IA 2.</li>
</ul>
<p><strong>Please keep in mind that if the cut is not event-driven,
boundary updates are necessary; this is not covered here.</strong> You
can find more information about <a href="https://merck.github.io/simtrial/articles/sim_fixed_design_simple.html">the
boundary updates in the boundary update vignette</a>. In this vignette,
we use the event-driven cut from above for illustrative purposes.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ia1_cut</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_cut.html">create_cut</a></span><span class="op">(</span></span>
<span>  planned_calendar_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">analysis</span><span class="op">$</span><span class="va">time</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, </span>
<span>  target_event_overall <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">analysis</span><span class="op">$</span><span class="va">event</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  max_extension_for_target_event <span class="op">=</span> <span class="fl">16</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ia2_cut</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_cut.html">create_cut</a></span><span class="op">(</span></span>
<span>  planned_calendar_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">analysis</span><span class="op">$</span><span class="va">time</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  target_event_overall <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">analysis</span><span class="op">$</span><span class="va">event</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>  min_time_after_previous_analysis <span class="op">=</span> <span class="fl">10</span>, </span>
<span>  max_extension_for_target_event <span class="op">=</span> <span class="fl">28</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fa_cut</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_cut.html">create_cut</a></span><span class="op">(</span></span>
<span>  planned_calendar_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">analysis</span><span class="op">$</span><span class="va">time</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  min_time_after_previous_analysis <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  target_event_overall <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">analysis</span><span class="op">$</span><span class="va">event</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cut</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ia1 <span class="op">=</span> <span class="va">ia1_cut</span>, ia2 <span class="op">=</span> <span class="va">ia2_cut</span>, fa <span class="op">=</span> <span class="va">fa_cut</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step-2-run-sim_gs_n">Step 2: Run <code>sim_gs_n()</code><a class="anchor" aria-label="anchor" href="#step-2-run-sim_gs_n"></a>
</h2>
<p>Now that we have set up the design characteristics in Step 1, we can
proceed to run <code><a href="../reference/sim_gs_n.html">sim_gs_n()</a></code> for a specified number of
simulations. This function automatically utilizes a parallel computing
backend, which helps reduce the running time.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n_sim</span> <span class="op">&lt;-</span> <span class="fl">100</span> <span class="co"># Number of simulated trials</span></span>
<span><span class="va">sim_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_gs_n.html">sim_gs_n</a></span><span class="op">(</span></span>
<span>  n_sim <span class="op">=</span> <span class="va">n_sim</span>,</span>
<span>  sample_size <span class="op">=</span> <span class="va">sample_size</span>, stratum <span class="op">=</span> <span class="va">stratum</span>, block <span class="op">=</span> <span class="va">block</span>,</span>
<span>  enroll_rate <span class="op">=</span> <span class="va">enroll_rate</span>, fail_rate <span class="op">=</span> <span class="va">fail_rate</span>,</span>
<span>  test <span class="op">=</span> <span class="va">test</span>, weight <span class="op">=</span> <span class="va">weight</span>, cut <span class="op">=</span> <span class="va">cut</span><span class="op">)</span></span></code></pre></div>
<p>The output of <code>sim_gs_n</code> is a data frame with one row per
simulation per analysis. We show results for the first 2 simulated
trials here. The estimate column is the <em>sum(0 - E)</em> for the
logrank test; the se column is its standard error estimated under the
null hypothesis. The <code>z</code> column is the test statistic for the
logrank test (estimate / se). The <code>info</code> and
<code>info0</code> columns are the information at the current analysis
under the alternate and null hypotheses, respectively.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_res</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"Overview Each Simulation results"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/fmt_number.html" class="external-link">fmt_number</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">8</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>, decimals <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div id="dzawjmqldw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dzawjmqldw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dzawjmqldw thead, #dzawjmqldw tbody, #dzawjmqldw tfoot, #dzawjmqldw tr, #dzawjmqldw td, #dzawjmqldw th {
  border-style: none;
}

#dzawjmqldw p {
  margin: 0;
  padding: 0;
}

#dzawjmqldw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dzawjmqldw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dzawjmqldw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dzawjmqldw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dzawjmqldw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dzawjmqldw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dzawjmqldw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dzawjmqldw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dzawjmqldw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dzawjmqldw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dzawjmqldw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dzawjmqldw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dzawjmqldw .gt_spanner_row {
  border-bottom-style: hidden;
}

#dzawjmqldw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dzawjmqldw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dzawjmqldw .gt_from_md > :first-child {
  margin-top: 0;
}

#dzawjmqldw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dzawjmqldw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dzawjmqldw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dzawjmqldw .gt_row_group_first td {
  border-top-width: 2px;
}

#dzawjmqldw .gt_row_group_first th {
  border-top-width: 2px;
}

#dzawjmqldw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dzawjmqldw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dzawjmqldw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dzawjmqldw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dzawjmqldw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dzawjmqldw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dzawjmqldw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dzawjmqldw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dzawjmqldw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dzawjmqldw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_left {
  text-align: left;
}

#dzawjmqldw .gt_center {
  text-align: center;
}

#dzawjmqldw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dzawjmqldw .gt_font_normal {
  font-weight: normal;
}

#dzawjmqldw .gt_font_bold {
  font-weight: bold;
}

#dzawjmqldw .gt_font_italic {
  font-style: italic;
}

#dzawjmqldw .gt_super {
  font-size: 65%;
}

#dzawjmqldw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dzawjmqldw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dzawjmqldw .gt_indent_1 {
  text-indent: 5px;
}

#dzawjmqldw .gt_indent_2 {
  text-indent: 10px;
}

#dzawjmqldw .gt_indent_3 {
  text-indent: 15px;
}

#dzawjmqldw .gt_indent_4 {
  text-indent: 20px;
}

#dzawjmqldw .gt_indent_5 {
  text-indent: 25px;
}

#dzawjmqldw .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dzawjmqldw div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="12" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Overview Each Simulation results</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sim_id">sim_id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="method">method</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="parameter">parameter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="analysis">analysis</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cut_date">cut_date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="n">n</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="event">event</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="se">se</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="z">z</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="info">info</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="info0">info0</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="sim_id" class="gt_row gt_right">1</td>
<td headers="method" class="gt_row gt_left">WLR</td>
<td headers="parameter" class="gt_row gt_left">FH(rho=0, gamma=0)</td>
<td headers="analysis" class="gt_row gt_right">1</td>
<td headers="cut_date" class="gt_row gt_right">12.53</td>
<td headers="n" class="gt_row gt_right">362</td>
<td headers="event" class="gt_row gt_right">106</td>
<td headers="estimate" class="gt_row gt_right">−4.00</td>
<td headers="se" class="gt_row gt_right">5.13</td>
<td headers="z" class="gt_row gt_right">0.78</td>
<td headers="info" class="gt_row gt_right">26.46</td>
<td headers="info0" class="gt_row gt_right">26.50</td>
</tr>
<tr>
<td headers="sim_id" class="gt_row gt_right">1</td>
<td headers="method" class="gt_row gt_left">WLR</td>
<td headers="parameter" class="gt_row gt_left">FH(rho=0, gamma=0)</td>
<td headers="analysis" class="gt_row gt_right">2</td>
<td headers="cut_date" class="gt_row gt_right">24.68</td>
<td headers="n" class="gt_row gt_right">362</td>
<td headers="event" class="gt_row gt_right">227</td>
<td headers="estimate" class="gt_row gt_right">−23.11</td>
<td headers="se" class="gt_row gt_right">7.46</td>
<td headers="z" class="gt_row gt_right">3.10</td>
<td headers="info" class="gt_row gt_right">55.82</td>
<td headers="info0" class="gt_row gt_right">56.75</td>
</tr>
<tr>
<td headers="sim_id" class="gt_row gt_right">1</td>
<td headers="method" class="gt_row gt_left">WLR</td>
<td headers="parameter" class="gt_row gt_left">FH(rho=0, gamma=0)</td>
<td headers="analysis" class="gt_row gt_right">3</td>
<td headers="cut_date" class="gt_row gt_right">35.99</td>
<td headers="n" class="gt_row gt_right">362</td>
<td headers="event" class="gt_row gt_right">287</td>
<td headers="estimate" class="gt_row gt_right">−36.82</td>
<td headers="se" class="gt_row gt_right">8.27</td>
<td headers="z" class="gt_row gt_right">4.45</td>
<td headers="info" class="gt_row gt_right">70.68</td>
<td headers="info0" class="gt_row gt_right">71.75</td>
</tr>
<tr>
<td headers="sim_id" class="gt_row gt_right">2</td>
<td headers="method" class="gt_row gt_left">WLR</td>
<td headers="parameter" class="gt_row gt_left">FH(rho=0, gamma=0)</td>
<td headers="analysis" class="gt_row gt_right">1</td>
<td headers="cut_date" class="gt_row gt_right">12.19</td>
<td headers="n" class="gt_row gt_right">348</td>
<td headers="event" class="gt_row gt_right">106</td>
<td headers="estimate" class="gt_row gt_right">−5.20</td>
<td headers="se" class="gt_row gt_right">5.15</td>
<td headers="z" class="gt_row gt_right">1.01</td>
<td headers="info" class="gt_row gt_right">26.26</td>
<td headers="info0" class="gt_row gt_right">26.50</td>
</tr>
<tr>
<td headers="sim_id" class="gt_row gt_right">2</td>
<td headers="method" class="gt_row gt_left">WLR</td>
<td headers="parameter" class="gt_row gt_left">FH(rho=0, gamma=0)</td>
<td headers="analysis" class="gt_row gt_right">2</td>
<td headers="cut_date" class="gt_row gt_right">24.66</td>
<td headers="n" class="gt_row gt_right">362</td>
<td headers="event" class="gt_row gt_right">227</td>
<td headers="estimate" class="gt_row gt_right">−8.33</td>
<td headers="se" class="gt_row gt_right">7.53</td>
<td headers="z" class="gt_row gt_right">1.11</td>
<td headers="info" class="gt_row gt_right">56.50</td>
<td headers="info0" class="gt_row gt_right">56.75</td>
</tr>
<tr>
<td headers="sim_id" class="gt_row gt_right">2</td>
<td headers="method" class="gt_row gt_left">WLR</td>
<td headers="parameter" class="gt_row gt_left">FH(rho=0, gamma=0)</td>
<td headers="analysis" class="gt_row gt_right">3</td>
<td headers="cut_date" class="gt_row gt_right">37.57</td>
<td headers="n" class="gt_row gt_right">362</td>
<td headers="event" class="gt_row gt_right">287</td>
<td headers="estimate" class="gt_row gt_right">−18.96</td>
<td headers="se" class="gt_row gt_right">8.44</td>
<td headers="z" class="gt_row gt_right">2.24</td>
<td headers="info" class="gt_row gt_right">71.11</td>
<td headers="info0" class="gt_row gt_right">71.75</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="step-3-summarize-simulations">Step 3: Summarize simulations<a class="anchor" aria-label="anchor" href="#step-3-summarize-simulations"></a>
</h2>
<p>With the 100 simulations provided, users can summarize the simulated
power and compare it to the target power of 90% as follows:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_res</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>analysis <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, eff_bound <span class="op">=</span> <span class="va">eff_bound</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">analysis</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>`Mean time` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">cut_date</span><span class="op">)</span>, `sd(time)` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">cut_date</span><span class="op">)</span>, `Simulated power` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">z</span> <span class="op">&gt;=</span> <span class="va">eff_bound</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>`Asymptotic power` <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">bound</span><span class="op">$</span><span class="va">probability</span><span class="op">[</span><span class="va">x</span><span class="op">$</span><span class="va">bound</span><span class="op">$</span><span class="va">bound</span> <span class="op">==</span> <span class="st">"upper"</span><span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"Summary of 100 simulations"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/fmt_number.html" class="external-link">fmt_number</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="fl">2</span>, decimals <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/fmt_number.html" class="external-link">fmt_number</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">5</span>, decimals <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div id="uwkneayvxc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#uwkneayvxc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#uwkneayvxc thead, #uwkneayvxc tbody, #uwkneayvxc tfoot, #uwkneayvxc tr, #uwkneayvxc td, #uwkneayvxc th {
  border-style: none;
}

#uwkneayvxc p {
  margin: 0;
  padding: 0;
}

#uwkneayvxc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#uwkneayvxc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#uwkneayvxc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#uwkneayvxc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#uwkneayvxc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uwkneayvxc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uwkneayvxc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uwkneayvxc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#uwkneayvxc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#uwkneayvxc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#uwkneayvxc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#uwkneayvxc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#uwkneayvxc .gt_spanner_row {
  border-bottom-style: hidden;
}

#uwkneayvxc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#uwkneayvxc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#uwkneayvxc .gt_from_md > :first-child {
  margin-top: 0;
}

#uwkneayvxc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#uwkneayvxc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#uwkneayvxc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#uwkneayvxc .gt_row_group_first td {
  border-top-width: 2px;
}

#uwkneayvxc .gt_row_group_first th {
  border-top-width: 2px;
}

#uwkneayvxc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#uwkneayvxc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#uwkneayvxc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uwkneayvxc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#uwkneayvxc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#uwkneayvxc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#uwkneayvxc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uwkneayvxc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uwkneayvxc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uwkneayvxc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_left {
  text-align: left;
}

#uwkneayvxc .gt_center {
  text-align: center;
}

#uwkneayvxc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#uwkneayvxc .gt_font_normal {
  font-weight: normal;
}

#uwkneayvxc .gt_font_bold {
  font-weight: bold;
}

#uwkneayvxc .gt_font_italic {
  font-style: italic;
}

#uwkneayvxc .gt_super {
  font-size: 65%;
}

#uwkneayvxc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#uwkneayvxc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#uwkneayvxc .gt_indent_1 {
  text-indent: 5px;
}

#uwkneayvxc .gt_indent_2 {
  text-indent: 10px;
}

#uwkneayvxc .gt_indent_3 {
  text-indent: 15px;
}

#uwkneayvxc .gt_indent_4 {
  text-indent: 20px;
}

#uwkneayvxc .gt_indent_5 {
  text-indent: 25px;
}

#uwkneayvxc .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#uwkneayvxc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="5" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Summary of 100 simulations</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="analysis">analysis</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean-time">Mean time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sd(time)">sd(time)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Simulated-power">Simulated power</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Asymptotic-power">Asymptotic power</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="analysis" class="gt_row gt_right">1</td>
<td headers="Mean time" class="gt_row gt_right">12.0</td>
<td headers="sd(time)" class="gt_row gt_right">0.79</td>
<td headers="Simulated power" class="gt_row gt_right">0.03</td>
<td headers="Asymptotic power" class="gt_row gt_right">0.01</td>
</tr>
<tr>
<td headers="analysis" class="gt_row gt_right">2</td>
<td headers="Mean time" class="gt_row gt_right">23.8</td>
<td headers="sd(time)" class="gt_row gt_right">1.53</td>
<td headers="Simulated power" class="gt_row gt_right">0.66</td>
<td headers="Asymptotic power" class="gt_row gt_right">0.66</td>
</tr>
<tr>
<td headers="analysis" class="gt_row gt_right">3</td>
<td headers="Mean time" class="gt_row gt_right">35.7</td>
<td headers="sd(time)" class="gt_row gt_right">2.04</td>
<td headers="Simulated power" class="gt_row gt_right">0.87</td>
<td headers="Asymptotic power" class="gt_row gt_right">0.90</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-FH1982" class="csl-entry">
Harrington, David P, and Thomas R Fleming. 1982. <span>“A Class of Rank
Test Procedures for Censored Survival Data.”</span> <em>Biometrika</em>
69 (3): 553–66.
</div>
<div id="ref-MagirrBurman" class="csl-entry">
Magirr, Dominic, and Carl-Fredrik Burman. 2019. <span>“Modestly Weighted
Logrank Tests.”</span> <em>Statistics in Medicine</em> 38 (20): 3782–90.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Keaven Anderson, Yujie Zhao, Yilong Zhang. Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2. <br>Copyright © 2024 Merck &amp; Co., Inc., Rahway, NJ, USA and its affiliates. All rights reserved.</p>
</div>

<div class="pkgdown-footer-right">
  <p><span></span></p>
</div>

    </footer>
</div>





  </body>
</html>
