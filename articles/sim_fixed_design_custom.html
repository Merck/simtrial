<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Custom Fixed Design Simulations: A Tutorial on Writing Code from the Ground Up • simtrial</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Custom Fixed Design Simulations: A Tutorial on Writing Code from the Ground Up">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simtrial</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Merck/simtrial/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Custom Fixed Design Simulations: A Tutorial on Writing Code from the Ground Up</h1>
                        <h4 data-toc-skip class="author">Yujie Zhao and
Keaven Anderson</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Merck/simtrial/blob/v1.0.1/vignettes/sim_fixed_design_custom.Rmd" class="external-link"><code>vignettes/sim_fixed_design_custom.Rmd</code></a></small>
      <div class="d-none name"><code>sim_fixed_design_custom.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://merck.github.io/gsDesign2/" class="external-link">gsDesign2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://merck.github.io/simtrial/">simtrial</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://doFuture.futureverse.org" class="external-link">doFuture</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2025</span><span class="op">)</span></span></code></pre></div>
<p>The vignette <a href="https://merck.github.io/simtrial/articles/sim_fixed_design_simple.html">Simulate
Fixed Designs with Ease via sim_fixed_n</a> presents fixed design
simulations using a single function call, <code><a href="../reference/sim_fixed_n.html">sim_fixed_n()</a></code>. It
offers a simple and straightforward process for running simulations
quickly.</p>
<p>If users are interested in the following aspects, we recommend
simulating from scratch rather than directly using
<code><a href="../reference/sim_fixed_n.html">sim_fixed_n()</a></code>:</p>
<ul>
<li>Tests beyond the logrank test or Fleming-Harrington weighted logrank
tests, such as modestly weighted logrank tests, RMST tests, and
milestone tests.</li>
<li>More complex cutoffs, such as analyzing data after 12 months of
follow-up when at least 80% of the patient population is enrolled.</li>
<li>Different dropout rates in the control and experimental groups.</li>
</ul>
<p>The process for simulating from scratch is outlined in Steps 1 to 5
below.</p>
<div class="section level2">
<h2 id="step-1-simulate-time-to-event-data">Step 1: Simulate time-to-event data<a class="anchor" aria-label="anchor" href="#step-1-simulate-time-to-event-data"></a>
</h2>
<p>The <code><a href="../reference/sim_pw_surv.html">sim_pw_surv()</a></code> function allows for the simulation of
a clinical trial with essentially arbitrary patterns of enrollment,
failure rates, and censoring. To implement <code><a href="../reference/sim_pw_surv.html">sim_pw_surv()</a></code>,
you need to specify 5 design characteristics to simulate time-to-event
data:</p>
<ol style="list-style-type: decimal">
<li>Sample Size (input as <code>n</code>).</li>
<li>Stratified or Non-Stratified Designs (input as
<code>stratum</code>).</li>
<li>Randomization Ratio (input as <code>block</code>). The
<code><a href="../reference/sim_pw_surv.html">sim_pw_surv()</a></code> function uses fixed block randomization.</li>
<li>Enrollment Rate (input as <code>enroll_rate</code>). The
<code><a href="../reference/sim_pw_surv.html">sim_pw_surv()</a></code> function supports piecewise enrollment,
allowing the enrollment rate to be piecewise constant.</li>
<li>Failure Rate (input as <code>fail_rate</code>) or time-to-event
rate. The <code><a href="../reference/sim_pw_surv.html">sim_pw_surv()</a></code> function uses a piecewise
exponential distribution for the failure rate, which makes it easy to
define a distribution with changing failure rates over time.
Specifically, in the <span class="math inline">\(j\)</span>-th interval,
the rate is denoted as <span class="math inline">\(\lambda_j \geq
0\)</span>. We require that at least one interval has <span class="math inline">\(\lambda_j &gt; 0\)</span>. There are two methods
for defining the failure rate:</li>
</ol>
<ul>
<li>Specify the failure rate by treatment group, stratum, and time
period. An example can be found in Scenario b).</li>
<li>Create a <code>fail_rate</code> using
<code><a href="https://merck.github.io/gsDesign2/reference/define_fail_rate.html" class="external-link">gsDesign2::define_fail_rate</a></code>, and then convert it to the
required format using <code><a href="../reference/to_sim_pw_surv.html">to_sim_pw_surv()</a></code>. An example is
provided in Scenario a).</li>
</ul>
<ol style="list-style-type: decimal">
<li>Dropout Rate (input as <code>dropout_Rate</code>). The
<code><a href="../reference/sim_pw_surv.html">sim_pw_surv()</a></code> function accepts piecewise constant dropout
rates, which may vary by treatment group. The configuration for dropout
should be specified by treatment group, stratum, and time period, and
setting up the dropout rate follows the same approach as the failure
rate.</li>
</ol>
<div class="section level3">
<h3 id="scenario-a-the-simplest-scenario">Scenario a) The simplest scenario<a class="anchor" aria-label="anchor" href="#scenario-a-the-simplest-scenario"></a>
</h3>
<p>We begin with the simplest implementation of
<code><a href="../reference/sim_pw_surv.html">sim_pw_surv()</a></code>. The following lines of code will generate
500 subjects using equal randomization and an unstratified design.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n_sim</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">500</span></span>
<span><span class="va">stratum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>stratum <span class="op">=</span> <span class="st">"All"</span>, p <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">block</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"experimental"</span>, <span class="st">"control"</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">enroll_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://merck.github.io/gsDesign2/reference/define_enroll_rate.html" class="external-link">define_enroll_rate</a></span><span class="op">(</span>rate <span class="op">=</span> <span class="fl">12</span>, duration <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fl">12</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fail_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://merck.github.io/gsDesign2/reference/define_fail_rate.html" class="external-link">define_fail_rate</a></span><span class="op">(</span>duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="cn">Inf</span><span class="op">)</span>, fail_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fl">10</span>, </span>
<span>                              hr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0.7</span><span class="op">)</span>, dropout_rate <span class="op">=</span> <span class="fl">0.0001</span><span class="op">)</span></span>
<span></span>
<span><span class="va">uncut_data_a</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_pw_surv.html">sim_pw_surv</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, stratum <span class="op">=</span> <span class="va">stratum</span>, block <span class="op">=</span> <span class="va">block</span>,</span>
<span>                            enroll_rate <span class="op">=</span> <span class="va">enroll_rate</span>,</span>
<span>                            fail_rate <span class="op">=</span> <span class="fu"><a href="../reference/to_sim_pw_surv.html">to_sim_pw_surv</a></span><span class="op">(</span><span class="va">fail_rate</span><span class="op">)</span><span class="op">$</span><span class="va">fail_rate</span>,</span>
<span>                            dropout_rate <span class="op">=</span> <span class="fu"><a href="../reference/to_sim_pw_surv.html">to_sim_pw_surv</a></span><span class="op">(</span><span class="va">fail_rate</span><span class="op">)</span><span class="op">$</span><span class="va">dropout_rate</span><span class="op">)</span></span></code></pre></div>
<p>The output of <code><a href="../reference/sim_pw_surv.html">sim_pw_surv()</a></code> is subject-level
observations, including stratum, enrollment time for the observation,
treatment group the observation is randomized to, failure time, dropout
time, calendar time of enrollment plot the minimum of failure time and
dropout time ( <code>cte</code>), and an failure and dropout indicator
(<code>fail = 1</code> is a failure, <code>fail = 0</code> is a
dropout).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">uncut_data_a</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"An Overview of Simulated TTE data"</span><span class="op">)</span></span></code></pre></div>
<div id="zrpbygbvkx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zrpbygbvkx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zrpbygbvkx thead, #zrpbygbvkx tbody, #zrpbygbvkx tfoot, #zrpbygbvkx tr, #zrpbygbvkx td, #zrpbygbvkx th {
  border-style: none;
}

#zrpbygbvkx p {
  margin: 0;
  padding: 0;
}

#zrpbygbvkx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zrpbygbvkx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zrpbygbvkx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zrpbygbvkx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zrpbygbvkx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zrpbygbvkx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zrpbygbvkx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zrpbygbvkx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zrpbygbvkx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zrpbygbvkx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zrpbygbvkx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zrpbygbvkx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zrpbygbvkx .gt_spanner_row {
  border-bottom-style: hidden;
}

#zrpbygbvkx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zrpbygbvkx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zrpbygbvkx .gt_from_md > :first-child {
  margin-top: 0;
}

#zrpbygbvkx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zrpbygbvkx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zrpbygbvkx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zrpbygbvkx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zrpbygbvkx .gt_row_group_first td {
  border-top-width: 2px;
}

#zrpbygbvkx .gt_row_group_first th {
  border-top-width: 2px;
}

#zrpbygbvkx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zrpbygbvkx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zrpbygbvkx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zrpbygbvkx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zrpbygbvkx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zrpbygbvkx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zrpbygbvkx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zrpbygbvkx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zrpbygbvkx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zrpbygbvkx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zrpbygbvkx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zrpbygbvkx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zrpbygbvkx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zrpbygbvkx .gt_left {
  text-align: left;
}

#zrpbygbvkx .gt_center {
  text-align: center;
}

#zrpbygbvkx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zrpbygbvkx .gt_font_normal {
  font-weight: normal;
}

#zrpbygbvkx .gt_font_bold {
  font-weight: bold;
}

#zrpbygbvkx .gt_font_italic {
  font-style: italic;
}

#zrpbygbvkx .gt_super {
  font-size: 65%;
}

#zrpbygbvkx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zrpbygbvkx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zrpbygbvkx .gt_indent_1 {
  text-indent: 5px;
}

#zrpbygbvkx .gt_indent_2 {
  text-indent: 10px;
}

#zrpbygbvkx .gt_indent_3 {
  text-indent: 15px;
}

#zrpbygbvkx .gt_indent_4 {
  text-indent: 20px;
}

#zrpbygbvkx .gt_indent_5 {
  text-indent: 25px;
}

#zrpbygbvkx .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#zrpbygbvkx div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="7" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>An Overview of Simulated TTE data</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="stratum">stratum</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="enroll_time">enroll_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="treatment">treatment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="fail_time">fail_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dropout_time">dropout_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cte">cte</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="fail">fail</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="enroll_time" class="gt_row gt_right">0.04250966</td>
<td headers="treatment" class="gt_row gt_left">experimental</td>
<td headers="fail_time" class="gt_row gt_right">1.1694497</td>
<td headers="dropout_time" class="gt_row gt_right">6265.622</td>
<td headers="cte" class="gt_row gt_right">1.2119594</td>
<td headers="fail" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="enroll_time" class="gt_row gt_right">0.15597253</td>
<td headers="treatment" class="gt_row gt_left">control</td>
<td headers="fail_time" class="gt_row gt_right">73.5774306</td>
<td headers="dropout_time" class="gt_row gt_right">21706.085</td>
<td headers="cte" class="gt_row gt_right">73.7334032</td>
<td headers="fail" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="enroll_time" class="gt_row gt_right">0.19363998</td>
<td headers="treatment" class="gt_row gt_left">experimental</td>
<td headers="fail_time" class="gt_row gt_right">15.1356774</td>
<td headers="dropout_time" class="gt_row gt_right">18096.246</td>
<td headers="cte" class="gt_row gt_right">15.3293174</td>
<td headers="fail" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="enroll_time" class="gt_row gt_right">0.23882703</td>
<td headers="treatment" class="gt_row gt_left">control</td>
<td headers="fail_time" class="gt_row gt_right">1.9020241</td>
<td headers="dropout_time" class="gt_row gt_right">20844.870</td>
<td headers="cte" class="gt_row gt_right">2.1408512</td>
<td headers="fail" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="enroll_time" class="gt_row gt_right">0.27283752</td>
<td headers="treatment" class="gt_row gt_left">control</td>
<td headers="fail_time" class="gt_row gt_right">2.9475061</td>
<td headers="dropout_time" class="gt_row gt_right">11058.946</td>
<td headers="cte" class="gt_row gt_right">3.2203437</td>
<td headers="fail" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="enroll_time" class="gt_row gt_right">0.29362231</td>
<td headers="treatment" class="gt_row gt_left">experimental</td>
<td headers="fail_time" class="gt_row gt_right">0.5490203</td>
<td headers="dropout_time" class="gt_row gt_right">7004.398</td>
<td headers="cte" class="gt_row gt_right">0.8426426</td>
<td headers="fail" class="gt_row gt_right">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="scenario-b-differential-dropout-rates">Scenario b) Differential dropout rates<a class="anchor" aria-label="anchor" href="#scenario-b-differential-dropout-rates"></a>
</h3>
<p>The dropout rate can differ between groups. For instance, in
open-label studies, the control group may experience a higher dropout
rate. The follow lines of code assumes the control group has a dropout
rate of 0.002 for the first 10 months, which then decreases to 0.001
thereafter. In contrast, the experimental group has a constant dropout
rate of 0.001 throughout the study.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">differential_dropout_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  stratum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"All"</span>, <span class="fl">3</span><span class="op">)</span>, </span>
<span>  period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>, </span>
<span>  treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"control"</span>, <span class="st">"control"</span>, <span class="st">"experimental"</span><span class="op">)</span>, </span>
<span>  duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="cn">Inf</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>  rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.002</span>, <span class="fl">0.001</span>, <span class="fl">0.001</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">uncut_data_b</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_pw_surv.html">sim_pw_surv</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, stratum <span class="op">=</span> <span class="va">stratum</span>, block <span class="op">=</span> <span class="va">block</span>,</span>
<span>                            enroll_rate <span class="op">=</span> <span class="va">enroll_rate</span>,</span>
<span>                            fail_rate <span class="op">=</span> <span class="fu"><a href="../reference/to_sim_pw_surv.html">to_sim_pw_surv</a></span><span class="op">(</span><span class="va">fail_rate</span><span class="op">)</span><span class="op">$</span><span class="va">fail_rate</span>,</span>
<span>                            dropout_rate <span class="op">=</span> <span class="va">differential_dropout_rate</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="scenario-c-stratified-designs">Scenario c) Stratified designs<a class="anchor" aria-label="anchor" href="#scenario-c-stratified-designs"></a>
</h3>
<p>The following code assumes there are two strata (biomarker-positive
and biomarker-negative) with equal prevalence of 0.5 for each. In the
control arm, the median survival time is 10 months for
biomarker-positive subjects and 8 months for biomarker-negative
subjects. For both strata, the hazard ratio is 1 for the first 3 months,
after which it decreases to 0.6 for biomarker-positive subjects and 0.8
for biomarker-negative subjects. The dropout rate is contently 0.001 for
both strata over time.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stratified_enroll_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  stratum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Biomarker positive"</span>, <span class="st">"Biomarker negative"</span><span class="op">)</span>,</span>
<span>  rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">12</span><span class="op">)</span>, </span>
<span>  duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">stratified_fail_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  stratum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Biomarker positive"</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Biomarker negative"</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>, </span>
<span>  period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, </span>
<span>  treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"control"</span>, <span class="st">"experimental"</span>, <span class="st">"experimental"</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">Inf</span>, <span class="fl">3</span>, <span class="cn">Inf</span>, <span class="cn">Inf</span>, <span class="fl">3</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>  rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="co"># failure rate of biomarker positive subjects: control arm, exp arm period 1, exp arm period 2</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fl">10</span> <span class="op">*</span> <span class="fl">0.6</span>,</span>
<span>           <span class="co"># failure rate of biomarker negative subjects: control arm, exp arm period 1, exp arm period 2</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fl">8</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span><span class="fl">8</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fl">8</span> <span class="op">*</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">stratified_dropout_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  stratum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Biomarker positive"</span>, <span class="st">"Biomarker negative"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, </span>
<span>  treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"control"</span>, <span class="st">"experimental"</span>, <span class="st">"control"</span>, <span class="st">"experimental"</span><span class="op">)</span>,</span>
<span>  duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">Inf</span>, <span class="fl">4</span><span class="op">)</span>, </span>
<span>  rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">4</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">uncut_data_c</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_pw_surv.html">sim_pw_surv</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>,</span>
<span>                            stratum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>stratum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Biomarker positive"</span>, <span class="st">"Biomarker negative"</span><span class="op">)</span>, </span>
<span>                                                 p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                            block <span class="op">=</span> <span class="va">block</span>,</span>
<span>                            enroll_rate <span class="op">=</span> <span class="va">stratified_enroll_rate</span>,</span>
<span>                            fail_rate <span class="op">=</span> <span class="va">stratified_fail_rate</span>,</span>
<span>                            dropout_rate <span class="op">=</span> <span class="va">stratified_dropout_rate</span></span>
<span>                            <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="scenario-d-multi-arm-designs">Scenario d) Multi-arm designs<a class="anchor" aria-label="anchor" href="#scenario-d-multi-arm-designs"></a>
</h3>
<p>Suppose you wish to have 3 arms: control, low-dose and high-dose. The
following code assumes the control arm has a median survival time of 10
months, the low-dose arm has a median survival time of 12 months, and
the high-dose arm has a median survival time of 14 months. The hazard
ratio for the low-dose arm is 0.8, and the hazard ratio for the
high-dose arm is 0.6. The dropout rate is 0.001 for all arms. Block size
is 7 with 3:2:2 randomization.</p>
<p>We begin by setting up enrollment, failure and dropout rates.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">enroll_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://merck.github.io/gsDesign2/reference/define_enroll_rate.html" class="external-link">define_enroll_rate</a></span><span class="op">(</span>rate <span class="op">=</span> <span class="fl">12</span>, duration <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fl">12</span><span class="op">)</span></span>
<span></span>
<span><span class="va">three_arm_fail_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  stratum <span class="op">=</span> <span class="st">"All"</span>,</span>
<span>  period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, </span>
<span>  treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"control"</span>, <span class="st">"low-dose"</span>, <span class="st">"low-dose"</span>, <span class="st">"high-dose"</span>, <span class="st">"high-dose"</span><span class="op">)</span>,</span>
<span>  duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">Inf</span>, <span class="fl">3</span>, <span class="cn">Inf</span>, <span class="fl">3</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>  rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="co"># failure rate of control arm: period 1, period 2</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fl">10</span>,</span>
<span>           <span class="co"># failure rate of low-dose arm: period 1, period 2</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span> <span class="op">/</span> <span class="fl">.8</span><span class="op">)</span>,</span>
<span>           <span class="co"># failure rate of high-dose arm: period 1, period 2</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span> <span class="op">/</span> <span class="fl">.6</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">three_arm_dropout_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  stratum <span class="op">=</span> <span class="st">"All"</span>,</span>
<span>  period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, </span>
<span>  treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"control"</span>, <span class="st">"low-dose"</span>, <span class="st">"high-dose"</span><span class="op">)</span>,</span>
<span>  duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">Inf</span>, <span class="fl">3</span><span class="op">)</span>, </span>
<span>  rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">uncut_data_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_pw_surv.html">sim_pw_surv</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>,</span>
<span>                            stratum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>stratum <span class="op">=</span> <span class="st">"All"</span><span class="op">)</span>,</span>
<span>                            block <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"control"</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"low-dose"</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"high-dose"</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                            enroll_rate <span class="op">=</span> <span class="va">enroll_rate</span>,</span>
<span>                            fail_rate <span class="op">=</span> <span class="va">three_arm_fail_rate</span>,</span>
<span>                            dropout_rate <span class="op">=</span> <span class="va">three_arm_dropout_rate</span><span class="op">)</span></span></code></pre></div>
<p>For illustration purposes, we will focus on scenario b) for the
following discussion.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">uncut_data</span> <span class="op">&lt;-</span> <span class="va">uncut_data_b</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="step-2-cut-data">Step 2: Cut data<a class="anchor" aria-label="anchor" href="#step-2-cut-data"></a>
</h2>
<p>The <code><a href="../reference/get_analysis_date.html">get_analysis_date()</a></code> derives analysis date for
interim/final analysis given multiple conditions, see <a href="https://merck.github.io/simtrial/reference/get_analysis_date.html">the
help page of <code>get_analysis_date()</code> at the pkgdown
website</a>.</p>
<p>Users can cut for analysis at the 24th month and there are 300
events, whichever arrives later. This is equivalent to
<code>timing_type = 4</code> in <code><a href="../reference/sim_fixed_n.html">sim_fixed_n()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cut_date_a</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_analysis_date.html">get_analysis_date</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">uncut_data</span>,</span>
<span>                                planned_calendar_time <span class="op">=</span> <span class="fl">24</span>,</span>
<span>                                target_event_overall <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span></code></pre></div>
<p>Users can also cut by the maximum of targeted 300 event and minimum
follow-up 12 months. This is equivalent to <code>timing_type = 5</code>
in <code><a href="../reference/sim_fixed_n.html">sim_fixed_n()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cut_date_b</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_analysis_date.html">get_analysis_date</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">uncut_data</span>,</span>
<span>                                min_followup <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                                target_event_overall <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span></code></pre></div>
<p>Users can cut data when there are 300 events, with maximum time
extension to reach targeted events of 24 months. This is not enabled in
<code>timing_type</code> of <code><a href="../reference/sim_fixed_n.html">sim_fixed_n()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cut_date_c</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_analysis_date.html">get_analysis_date</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">uncut_data</span>,</span>
<span>                                max_extension_for_target_event <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                                target_event_overall <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span></code></pre></div>
<p>Users can cut data after 12 months followup when 80% of the patients
are enrolled in the overall population as below. This is not enabled in
<code>timing_type</code> of <code><a href="../reference/sim_fixed_n.html">sim_fixed_n()</a></code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cut_date_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_analysis_date.html">get_analysis_date</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">uncut_data</span>,</span>
<span>                                min_n_overall <span class="op">=</span> <span class="fl">100</span> <span class="op">*</span> <span class="fl">0.8</span>,</span>
<span>                                min_followup <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span></code></pre></div>
<p>More examples are available in the <a href="https://merck.github.io/simtrial/reference/get_analysis_date.html">reference
page of <code>get_analysis_date()</code></a> For illustration purposes,
we will focus on scenario d) for the following discussion.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cut_date</span> <span class="op">&lt;-</span> <span class="va">cut_date_d</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"The cutoff date is "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">cut_date</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## The cutoff date is  20.19</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cut_data</span> <span class="op">&lt;-</span> <span class="va">uncut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/cut_data_by_date.html">cut_data_by_date</a></span><span class="op">(</span><span class="va">cut_date</span><span class="op">)</span></span>
<span><span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"An Overview of TTE data Cut at "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">cut_date</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"Months"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="cajclanokf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#cajclanokf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#cajclanokf thead, #cajclanokf tbody, #cajclanokf tfoot, #cajclanokf tr, #cajclanokf td, #cajclanokf th {
  border-style: none;
}

#cajclanokf p {
  margin: 0;
  padding: 0;
}

#cajclanokf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cajclanokf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#cajclanokf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cajclanokf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cajclanokf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cajclanokf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cajclanokf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cajclanokf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cajclanokf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cajclanokf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cajclanokf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cajclanokf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cajclanokf .gt_spanner_row {
  border-bottom-style: hidden;
}

#cajclanokf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#cajclanokf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cajclanokf .gt_from_md > :first-child {
  margin-top: 0;
}

#cajclanokf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cajclanokf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cajclanokf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#cajclanokf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#cajclanokf .gt_row_group_first td {
  border-top-width: 2px;
}

#cajclanokf .gt_row_group_first th {
  border-top-width: 2px;
}

#cajclanokf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cajclanokf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#cajclanokf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#cajclanokf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cajclanokf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cajclanokf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cajclanokf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#cajclanokf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cajclanokf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cajclanokf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cajclanokf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cajclanokf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cajclanokf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cajclanokf .gt_left {
  text-align: left;
}

#cajclanokf .gt_center {
  text-align: center;
}

#cajclanokf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cajclanokf .gt_font_normal {
  font-weight: normal;
}

#cajclanokf .gt_font_bold {
  font-weight: bold;
}

#cajclanokf .gt_font_italic {
  font-style: italic;
}

#cajclanokf .gt_super {
  font-size: 65%;
}

#cajclanokf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#cajclanokf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#cajclanokf .gt_indent_1 {
  text-indent: 5px;
}

#cajclanokf .gt_indent_2 {
  text-indent: 10px;
}

#cajclanokf .gt_indent_3 {
  text-indent: 15px;
}

#cajclanokf .gt_indent_4 {
  text-indent: 20px;
}

#cajclanokf .gt_indent_5 {
  text-indent: 25px;
}

#cajclanokf .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#cajclanokf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>An Overview of TTE data Cut at 20.19Months</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="tte">tte</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="event">event</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="stratum">stratum</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="treatment">treatment</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="tte" class="gt_row gt_right">19.288154</td>
<td headers="event" class="gt_row gt_right">1</td>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="treatment" class="gt_row gt_left">control</td>
</tr>
<tr>
<td headers="tte" class="gt_row gt_right">20.029362</td>
<td headers="event" class="gt_row gt_right">0</td>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="treatment" class="gt_row gt_left">experimental</td>
</tr>
<tr>
<td headers="tte" class="gt_row gt_right">5.400825</td>
<td headers="event" class="gt_row gt_right">1</td>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="treatment" class="gt_row gt_left">control</td>
</tr>
<tr>
<td headers="tte" class="gt_row gt_right">8.723331</td>
<td headers="event" class="gt_row gt_right">1</td>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="treatment" class="gt_row gt_left">experimental</td>
</tr>
<tr>
<td headers="tte" class="gt_row gt_right">19.860289</td>
<td headers="event" class="gt_row gt_right">0</td>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="treatment" class="gt_row gt_left">control</td>
</tr>
<tr>
<td headers="tte" class="gt_row gt_right">4.589687</td>
<td headers="event" class="gt_row gt_right">1</td>
<td headers="stratum" class="gt_row gt_left">All</td>
<td headers="treatment" class="gt_row gt_left">experimental</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="step-3-run-tests">Step 3: Run tests<a class="anchor" aria-label="anchor" href="#step-3-run-tests"></a>
</h2>
<p>The simtrial package provides many options for testing methods,
including (weighted) logrank tests, RMST test, milestone test, and
MaxComboi test, see the [Section “Compute p-values/test statistics” at
the pkgdown reference page] (<a href="https://merck.github.io/simtrial/reference/index.html#compute-p-values-test-statistics" class="uri">https://merck.github.io/simtrial/reference/index.html#compute-p-values-test-statistics</a>).</p>
<p>The following code lists all possible tests available in simtrial.
Users can select one of the tests listed above or combine the testing
results to make comparisons across tests. For demonstration purposes, we
will aggregate all tests together.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Logrank test</span></span>
<span><span class="va">sim_res_lr</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/wlr.html">wlr</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fu"><a href="../reference/fh.html">fh</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="fl">0</span>, gamma <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># weighted logrank test by Fleming-Harrington weights</span></span>
<span><span class="va">sim_res_fh</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/wlr.html">wlr</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fu"><a href="../reference/fh.html">fh</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="fl">0</span>, gamma <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Modestly weighted logrank test</span></span>
<span><span class="va">sim_res_mb</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/wlr.html">wlr</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fu"><a href="../reference/mb.html">mb</a></span><span class="op">(</span>delay <span class="op">=</span> <span class="cn">Inf</span>, w_max <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Weighted logrank test by Xu 2017's early zero weights</span></span>
<span><span class="va">sim_res_xu</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/wlr.html">wlr</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fu"><a href="../reference/early_zero.html">early_zero</a></span><span class="op">(</span>early_period <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># RMST test</span></span>
<span><span class="va">sim_res_rmst</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/rmst.html">rmst</a></span><span class="op">(</span>tau <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Milestone test</span></span>
<span><span class="va">sim_res_ms</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/milestone.html">milestone</a></span><span class="op">(</span>ms_time <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Maxcombo tests comboing multiple weighted logrank test with Fleming-Harrington weights</span></span>
<span><span class="va">sim_res_mc</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/maxcombo.html">maxcombo</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, gamma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The output of the tests mentioned above are lists including:</p>
<ul>
<li>The testing method employed (WLR, RMST, milestone, or MaxCombo),
which can be accessed using <code>sim_res_rmst$method</code>.</li>
<li>The parameters associated with the testing method. For instance, the
RMST test parameter is 10, indicating that the RMST is evaluated at
month 10. You can find this information using
<code>sim_res_rmst$parameter</code>.</li>
<li>The point estimate and standard error for the testing method used.
For example, the point estimate for RMST represents the survival
difference between the experimental group and the control group. This
estimate can be retrieved with <code>sim_res_rmst$estimate</code> and
<code>sim_res_rmst$se</code>.</li>
<li>The Z-score for the testing method, accessible via
<code>sim_res_rmst$z</code>. Please note that the Z-score is not
provided for the MaxCombo test; instead, the p-value is reported
(<code>sim_res_mc$p_value</code>).</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">Method</span>, <span class="op">~</span><span class="va">Parameter</span>, <span class="op">~</span><span class="va">Z</span>, <span class="op">~</span><span class="va">Estimate</span>, <span class="op">~</span><span class="va">SE</span>, <span class="op">~</span><span class="va">`P value`</span>,</span>
<span>  <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">parameter</span>, <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_lr</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>  <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">parameter</span>, <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_fh</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>  <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">parameter</span>, <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_mb</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>  <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">parameter</span>, <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_xu</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>  <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">parameter</span><span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>  <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">parameter</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_ms</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>  <span class="va">sim_res_mc</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_mc</span><span class="op">$</span><span class="va">parameter</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="va">sim_res_mc</span><span class="op">$</span><span class="va">p_value</span></span>
<span>  <span class="op">)</span> </span>
<span></span>
<span><span class="va">sim_res</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"One Simulation Results"</span><span class="op">)</span></span></code></pre></div>
<div id="itqjmkpiic" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#itqjmkpiic table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#itqjmkpiic thead, #itqjmkpiic tbody, #itqjmkpiic tfoot, #itqjmkpiic tr, #itqjmkpiic td, #itqjmkpiic th {
  border-style: none;
}

#itqjmkpiic p {
  margin: 0;
  padding: 0;
}

#itqjmkpiic .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#itqjmkpiic .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#itqjmkpiic .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#itqjmkpiic .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#itqjmkpiic .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#itqjmkpiic .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#itqjmkpiic .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#itqjmkpiic .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#itqjmkpiic .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#itqjmkpiic .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#itqjmkpiic .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#itqjmkpiic .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#itqjmkpiic .gt_spanner_row {
  border-bottom-style: hidden;
}

#itqjmkpiic .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#itqjmkpiic .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#itqjmkpiic .gt_from_md > :first-child {
  margin-top: 0;
}

#itqjmkpiic .gt_from_md > :last-child {
  margin-bottom: 0;
}

#itqjmkpiic .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#itqjmkpiic .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#itqjmkpiic .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#itqjmkpiic .gt_row_group_first td {
  border-top-width: 2px;
}

#itqjmkpiic .gt_row_group_first th {
  border-top-width: 2px;
}

#itqjmkpiic .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#itqjmkpiic .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#itqjmkpiic .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#itqjmkpiic .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#itqjmkpiic .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#itqjmkpiic .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#itqjmkpiic .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#itqjmkpiic .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#itqjmkpiic .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#itqjmkpiic .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#itqjmkpiic .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#itqjmkpiic .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#itqjmkpiic .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#itqjmkpiic .gt_left {
  text-align: left;
}

#itqjmkpiic .gt_center {
  text-align: center;
}

#itqjmkpiic .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#itqjmkpiic .gt_font_normal {
  font-weight: normal;
}

#itqjmkpiic .gt_font_bold {
  font-weight: bold;
}

#itqjmkpiic .gt_font_italic {
  font-style: italic;
}

#itqjmkpiic .gt_super {
  font-size: 65%;
}

#itqjmkpiic .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#itqjmkpiic .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#itqjmkpiic .gt_indent_1 {
  text-indent: 5px;
}

#itqjmkpiic .gt_indent_2 {
  text-indent: 10px;
}

#itqjmkpiic .gt_indent_3 {
  text-indent: 15px;
}

#itqjmkpiic .gt_indent_4 {
  text-indent: 20px;
}

#itqjmkpiic .gt_indent_5 {
  text-indent: 25px;
}

#itqjmkpiic .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#itqjmkpiic div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="6" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>One Simulation Results</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Method">Method</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Parameter">Parameter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Z">Z</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Estimate">Estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="SE">SE</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="P-value">P value</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">FH(rho=0, gamma=0)</td>
<td headers="Z" class="gt_row gt_right">1.788225</td>
<td headers="Estimate" class="gt_row gt_right">-9.3460253</td>
<td headers="SE" class="gt_row gt_right">5.2264273</td>
<td headers="P value" class="gt_row gt_right">0.036869897</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">FH(rho=0, gamma=0.5)</td>
<td headers="Z" class="gt_row gt_right">2.360073</td>
<td headers="Estimate" class="gt_row gt_right">-6.8225888</td>
<td headers="SE" class="gt_row gt_right">2.8908376</td>
<td headers="P value" class="gt_row gt_right">0.009135661</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">MB(delay = Inf, max_weight = 2)</td>
<td headers="Z" class="gt_row gt_right">2.130368</td>
<td headers="Estimate" class="gt_row gt_right">-16.9085058</td>
<td headers="SE" class="gt_row gt_right">7.9368946</td>
<td headers="P value" class="gt_row gt_right">0.016570624</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">Xu 2017 with first 3 months of 0 weights</td>
<td headers="Z" class="gt_row gt_right">2.600908</td>
<td headers="Estimate" class="gt_row gt_right">-11.0553977</td>
<td headers="SE" class="gt_row gt_right">4.2505921</td>
<td headers="P value" class="gt_row gt_right">0.004648873</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">RMST</td>
<td headers="Parameter" class="gt_row gt_left">10</td>
<td headers="Z" class="gt_row gt_right">1.128125</td>
<td headers="Estimate" class="gt_row gt_right">0.5589405</td>
<td headers="SE" class="gt_row gt_right">0.4954596</td>
<td headers="P value" class="gt_row gt_right">0.129633491</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">milestone</td>
<td headers="Parameter" class="gt_row gt_left">10</td>
<td headers="Z" class="gt_row gt_right">1.940708</td>
<td headers="Estimate" class="gt_row gt_right">0.4501018</td>
<td headers="SE" class="gt_row gt_right">0.2319266</td>
<td headers="P value" class="gt_row gt_right">0.026146861</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">MaxCombo</td>
<td headers="Parameter" class="gt_row gt_left">FH(0, 0) + FH(0, 0.5)</td>
<td headers="Z" class="gt_row gt_right">NA</td>
<td headers="Estimate" class="gt_row gt_right">NA</td>
<td headers="SE" class="gt_row gt_right">NA</td>
<td headers="P value" class="gt_row gt_right">0.012855297</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="step-4-perform-the-above-single-simulation-repeatedly">Step 4: Perform the above single simulation repeatedly<a class="anchor" aria-label="anchor" href="#step-4-perform-the-above-single-simulation-repeatedly"></a>
</h2>
<p>We will now merge Steps 1 to 3 into a single function named
<code>one_sim()</code>, which facilitates a single simulation run. The
construction of <code>one_sim()</code> involves copying all the lines of
code from Steps 1 to 3.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">one_sim</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">sim_id</span> <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                    <span class="co"># arguments from Step 1: design characteristic</span></span>
<span>                    <span class="va">n</span>, <span class="va">stratum</span>, <span class="va">enroll_rate</span>, <span class="va">fail_rate</span>, <span class="va">dropout_rate</span>, <span class="va">block</span>, </span>
<span>                    <span class="co"># arguments from Step 2； cutting method</span></span>
<span>                    <span class="va">min_n_overall</span>, <span class="va">min_followup</span>,</span>
<span>                    <span class="co"># arguments from Step 3； testing method</span></span>
<span>                    <span class="va">fh</span>, <span class="va">mb</span>, <span class="va">xu</span>, <span class="va">rmst</span>, <span class="va">ms</span>, <span class="va">mc</span></span>
<span>                    <span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Step 1: simulate a time-to-event data</span></span>
<span>    <span class="va">uncut_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_pw_surv.html">sim_pw_surv</a></span><span class="op">(</span></span>
<span>      n <span class="op">=</span> <span class="va">n</span>,</span>
<span>      stratum <span class="op">=</span> <span class="va">stratum</span>,</span>
<span>      block <span class="op">=</span> <span class="va">block</span>,</span>
<span>      enroll_rate <span class="op">=</span> <span class="va">enroll_rate</span>,</span>
<span>      fail_rate <span class="op">=</span> <span class="va">fail_rate</span>,</span>
<span>      dropout_rate <span class="op">=</span> <span class="va">dropout_rate</span><span class="op">)</span> </span>
<span>    </span>
<span>    <span class="co">## Step 2: Cut data</span></span>
<span>    <span class="va">cut_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_analysis_date.html">get_analysis_date</a></span><span class="op">(</span>min_n_overall <span class="op">=</span> <span class="va">min_n_overall</span>, min_followup <span class="op">=</span> <span class="va">min_followup</span>, data <span class="op">=</span> <span class="va">uncut_data</span><span class="op">)</span></span>
<span>    <span class="va">cut_data</span> <span class="op">&lt;-</span> <span class="va">uncut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/cut_data_by_date.html">cut_data_by_date</a></span><span class="op">(</span><span class="va">cut_date</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Step 3: Run tests</span></span>
<span>    <span class="va">sim_res_lr</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/wlr.html">wlr</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fu"><a href="../reference/fh.html">fh</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="fl">0</span>, gamma <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">sim_res_fh</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/wlr.html">wlr</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fu"><a href="../reference/fh.html">fh</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="va">fh</span><span class="op">$</span><span class="va">rho</span>, gamma <span class="op">=</span> <span class="va">fh</span><span class="op">$</span><span class="va">gamma</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">sim_res_mb</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/wlr.html">wlr</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fu"><a href="../reference/mb.html">mb</a></span><span class="op">(</span>delay <span class="op">=</span> <span class="va">mb</span><span class="op">$</span><span class="va">delay</span>, w_max <span class="op">=</span> <span class="va">mb</span><span class="op">$</span><span class="va">w_max</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">sim_res_xu</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/wlr.html">wlr</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fu"><a href="../reference/early_zero.html">early_zero</a></span><span class="op">(</span>early_period <span class="op">=</span> <span class="va">xu</span><span class="op">$</span><span class="va">early_period</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">sim_res_rmst</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/rmst.html">rmst</a></span><span class="op">(</span>tau <span class="op">=</span> <span class="va">rmst</span><span class="op">$</span><span class="va">tau</span><span class="op">)</span></span>
<span>    <span class="va">sim_res_ms</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/milestone.html">milestone</a></span><span class="op">(</span>ms_time <span class="op">=</span> <span class="va">ms</span><span class="op">$</span><span class="va">ms_time</span><span class="op">)</span></span>
<span>    <span class="va">sim_res_mc</span> <span class="op">&lt;-</span> <span class="va">cut_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/maxcombo.html">maxcombo</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="va">mc</span><span class="op">$</span><span class="va">rho</span>, gamma <span class="op">=</span> <span class="va">mc</span><span class="op">$</span><span class="va">gamma</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">sim_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>      <span class="op">~</span><span class="va">`Sim ID`</span>, <span class="op">~</span><span class="va">Method</span>, <span class="op">~</span><span class="va">Parameter</span>, <span class="op">~</span><span class="va">Z</span>, <span class="op">~</span><span class="va">Estimate</span>, <span class="op">~</span><span class="va">SE</span>, <span class="op">~</span><span class="va">`P value`</span>,</span>
<span>      <span class="va">sim_id</span>, <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">parameter</span>, <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_lr</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_lr</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>      <span class="va">sim_id</span>, <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">parameter</span>, <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_fh</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_fh</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>      <span class="va">sim_id</span>, <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">parameter</span>, <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_mb</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_mb</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>      <span class="va">sim_id</span>, <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">parameter</span>, <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_xu</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_xu</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>      <span class="va">sim_id</span>, <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">parameter</span><span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_rmst</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>      <span class="va">sim_id</span>, <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">parameter</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">z</span>, <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">estimate</span>, <span class="va">sim_res_ms</span><span class="op">$</span><span class="va">se</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="va">sim_res_ms</span><span class="op">$</span><span class="va">z</span><span class="op">)</span>,</span>
<span>      <span class="va">sim_id</span>, <span class="va">sim_res_mc</span><span class="op">$</span><span class="va">method</span>, <span class="va">sim_res_mc</span><span class="op">$</span><span class="va">parameter</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="va">sim_res_mc</span><span class="op">$</span><span class="va">p_value</span></span>
<span>  <span class="op">)</span> </span>
<span>      </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">sim_res</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>After that, we will execute <code>one_sim()</code> multiple times
using parallel computation. The following lines of code uses 2 workers
to run 100 simulations.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2025</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="st">"multisession"</span>, workers <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">ans</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/foreach/man/foreach.html" class="external-link">foreach</a></span><span class="op">(</span></span>
<span>  sim_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">n_sim</span><span class="op">)</span>,</span>
<span>  .errorhandling <span class="op">=</span> <span class="st">"stop"</span>,</span>
<span>  .options.future <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://doFuture.futureverse.org/reference/grapes-dofuture-grapes.html" class="external-link">%dofuture%</a></span> <span class="op">{</span></span>
<span>    <span class="va">ans_new</span> <span class="op">&lt;-</span> <span class="fu">one_sim</span><span class="op">(</span></span>
<span>      sim_id <span class="op">=</span> <span class="va">sim_id</span>, </span>
<span>      <span class="co"># arguments from Step 1: design characteristic</span></span>
<span>      n <span class="op">=</span> <span class="va">n</span>, </span>
<span>      stratum <span class="op">=</span> <span class="va">stratum</span>, </span>
<span>      enroll_rate <span class="op">=</span> <span class="va">enroll_rate</span>, </span>
<span>      fail_rate <span class="op">=</span> <span class="fu"><a href="../reference/to_sim_pw_surv.html">to_sim_pw_surv</a></span><span class="op">(</span><span class="va">fail_rate</span><span class="op">)</span><span class="op">$</span><span class="va">fail_rate</span>, </span>
<span>      dropout_rate <span class="op">=</span> <span class="va">differential_dropout_rate</span>, </span>
<span>      block <span class="op">=</span> <span class="va">block</span>, </span>
<span>      <span class="co"># arguments from Step 2； cutting method</span></span>
<span>      min_n_overall <span class="op">=</span> <span class="fl">500</span> <span class="op">*</span> <span class="fl">0.8</span>,</span>
<span>      min_followup <span class="op">=</span> <span class="fl">12</span>,</span>
<span>      <span class="co"># arguments from Step 3； testing method</span></span>
<span>      fh <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="fl">0</span>, gamma <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>, </span>
<span>      mb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>delay <span class="op">=</span> <span class="cn">Inf</span>, w_max <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, </span>
<span>      xu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>early_period <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>, </span>
<span>      rmst <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>tau <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, </span>
<span>      ms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ms_time <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, </span>
<span>      mc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, gamma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>                              </span>
<span>    <span class="va">ans_new</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span><span class="va">ans</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">rbindlist</a></span><span class="op">(</span><span class="va">ans</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="st">"sequential"</span><span class="op">)</span></span></code></pre></div>
<p>The output from the parallel computation resembles the output of
<code>sim_fix_n()</code> described in the vignette <a href="https://merck.github.io/simtrial/articles/sim_fixed_design_simple.html">Simulate
Fixed Designs with Ease via sim_fixed_n</a>. Each row in the output
corresponds to the simulation results for each testing method per each
repeation.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ans</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"Overview Each Simulation results"</span><span class="op">)</span></span></code></pre></div>
<div id="dzawjmqldw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dzawjmqldw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dzawjmqldw thead, #dzawjmqldw tbody, #dzawjmqldw tfoot, #dzawjmqldw tr, #dzawjmqldw td, #dzawjmqldw th {
  border-style: none;
}

#dzawjmqldw p {
  margin: 0;
  padding: 0;
}

#dzawjmqldw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dzawjmqldw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dzawjmqldw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dzawjmqldw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dzawjmqldw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dzawjmqldw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dzawjmqldw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dzawjmqldw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dzawjmqldw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dzawjmqldw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dzawjmqldw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dzawjmqldw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dzawjmqldw .gt_spanner_row {
  border-bottom-style: hidden;
}

#dzawjmqldw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dzawjmqldw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dzawjmqldw .gt_from_md > :first-child {
  margin-top: 0;
}

#dzawjmqldw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dzawjmqldw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dzawjmqldw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dzawjmqldw .gt_row_group_first td {
  border-top-width: 2px;
}

#dzawjmqldw .gt_row_group_first th {
  border-top-width: 2px;
}

#dzawjmqldw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dzawjmqldw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dzawjmqldw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dzawjmqldw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dzawjmqldw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dzawjmqldw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dzawjmqldw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dzawjmqldw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dzawjmqldw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dzawjmqldw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dzawjmqldw .gt_left {
  text-align: left;
}

#dzawjmqldw .gt_center {
  text-align: center;
}

#dzawjmqldw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dzawjmqldw .gt_font_normal {
  font-weight: normal;
}

#dzawjmqldw .gt_font_bold {
  font-weight: bold;
}

#dzawjmqldw .gt_font_italic {
  font-style: italic;
}

#dzawjmqldw .gt_super {
  font-size: 65%;
}

#dzawjmqldw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dzawjmqldw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dzawjmqldw .gt_indent_1 {
  text-indent: 5px;
}

#dzawjmqldw .gt_indent_2 {
  text-indent: 10px;
}

#dzawjmqldw .gt_indent_3 {
  text-indent: 15px;
}

#dzawjmqldw .gt_indent_4 {
  text-indent: 20px;
}

#dzawjmqldw .gt_indent_5 {
  text-indent: 25px;
}

#dzawjmqldw .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dzawjmqldw div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="7" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Overview Each Simulation results</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Sim-ID">Sim ID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Method">Method</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Parameter">Parameter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Z">Z</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Estimate">Estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="SE">SE</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="P-value">P value</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="Sim ID" class="gt_row gt_right">1</td>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">FH(rho=0, gamma=0)</td>
<td headers="Z" class="gt_row gt_right">1.9005840</td>
<td headers="Estimate" class="gt_row gt_right">-18.1176359</td>
<td headers="SE" class="gt_row gt_right">9.5326679</td>
<td headers="P value" class="gt_row gt_right">0.02867826</td>
</tr>
<tr>
<td headers="Sim ID" class="gt_row gt_right">1</td>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">FH(rho=0, gamma=0.5)</td>
<td headers="Z" class="gt_row gt_right">2.1478743</td>
<td headers="Estimate" class="gt_row gt_right">-12.7153128</td>
<td headers="SE" class="gt_row gt_right">5.9199519</td>
<td headers="P value" class="gt_row gt_right">0.01586187</td>
</tr>
<tr>
<td headers="Sim ID" class="gt_row gt_right">1</td>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">MB(delay = Inf, max_weight = 2)</td>
<td headers="Z" class="gt_row gt_right">2.0945611</td>
<td headers="Estimate" class="gt_row gt_right">-32.4645715</td>
<td headers="SE" class="gt_row gt_right">15.4994626</td>
<td headers="P value" class="gt_row gt_right">0.01810501</td>
</tr>
<tr>
<td headers="Sim ID" class="gt_row gt_right">1</td>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">Xu 2017 with first 3 months of 0 weights</td>
<td headers="Z" class="gt_row gt_right">1.9926533</td>
<td headers="Estimate" class="gt_row gt_right">-16.4165941</td>
<td headers="SE" class="gt_row gt_right">8.2385601</td>
<td headers="P value" class="gt_row gt_right">0.02314971</td>
</tr>
<tr>
<td headers="Sim ID" class="gt_row gt_right">1</td>
<td headers="Method" class="gt_row gt_left">RMST</td>
<td headers="Parameter" class="gt_row gt_left">10</td>
<td headers="Z" class="gt_row gt_right">0.7072865</td>
<td headers="Estimate" class="gt_row gt_right">0.2184929</td>
<td headers="SE" class="gt_row gt_right">0.3089170</td>
<td headers="P value" class="gt_row gt_right">0.23969421</td>
</tr>
<tr>
<td headers="Sim ID" class="gt_row gt_right">1</td>
<td headers="Method" class="gt_row gt_left">milestone</td>
<td headers="Parameter" class="gt_row gt_left">10</td>
<td headers="Z" class="gt_row gt_right">0.9610773</td>
<td headers="Estimate" class="gt_row gt_right">0.1280086</td>
<td headers="SE" class="gt_row gt_right">0.1331928</td>
<td headers="P value" class="gt_row gt_right">0.16825665</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="step-5-summarize-simulations">Step 5: Summarize simulations<a class="anchor" aria-label="anchor" href="#step-5-summarize-simulations"></a>
</h2>
<p>Using the 100 parallel simulations provided above, users can
summarize the simulated power and compare it across different testing
methods with some data manipulation using <code>dplyr</code>. Please
note that the power calculation for the MaxCombo test differs from the
other tests, as it does not report a Z-score.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ans_non_mc</span> <span class="op">&lt;-</span> <span class="va">ans</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Method</span> <span class="op">!=</span> <span class="st">"MaxCombo"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Method</span>, <span class="va">Parameter</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>Power <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Z</span> <span class="op">&gt;</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fl">0.025</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ans_mc</span> <span class="op">&lt;-</span> <span class="va">ans</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Method</span> <span class="op">==</span> <span class="st">"MaxCombo"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>Power <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">`P value`</span> <span class="op">&lt;</span> <span class="fl">0.025</span><span class="op">)</span>, Method <span class="op">=</span> <span class="st">"MaxCombo"</span>, Parameter <span class="op">=</span> <span class="st">"FH(0, 0) + FH(0, 0.5)"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">ans_non_mc</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union</a></span><span class="op">(</span><span class="va">ans_mc</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"Summary from 100 simulations"</span><span class="op">)</span></span></code></pre></div>
<div id="uwkneayvxc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#uwkneayvxc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#uwkneayvxc thead, #uwkneayvxc tbody, #uwkneayvxc tfoot, #uwkneayvxc tr, #uwkneayvxc td, #uwkneayvxc th {
  border-style: none;
}

#uwkneayvxc p {
  margin: 0;
  padding: 0;
}

#uwkneayvxc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#uwkneayvxc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#uwkneayvxc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#uwkneayvxc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#uwkneayvxc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uwkneayvxc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uwkneayvxc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uwkneayvxc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#uwkneayvxc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#uwkneayvxc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#uwkneayvxc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#uwkneayvxc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#uwkneayvxc .gt_spanner_row {
  border-bottom-style: hidden;
}

#uwkneayvxc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#uwkneayvxc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#uwkneayvxc .gt_from_md > :first-child {
  margin-top: 0;
}

#uwkneayvxc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#uwkneayvxc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#uwkneayvxc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#uwkneayvxc .gt_row_group_first td {
  border-top-width: 2px;
}

#uwkneayvxc .gt_row_group_first th {
  border-top-width: 2px;
}

#uwkneayvxc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#uwkneayvxc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#uwkneayvxc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uwkneayvxc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#uwkneayvxc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#uwkneayvxc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#uwkneayvxc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uwkneayvxc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uwkneayvxc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uwkneayvxc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uwkneayvxc .gt_left {
  text-align: left;
}

#uwkneayvxc .gt_center {
  text-align: center;
}

#uwkneayvxc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#uwkneayvxc .gt_font_normal {
  font-weight: normal;
}

#uwkneayvxc .gt_font_bold {
  font-weight: bold;
}

#uwkneayvxc .gt_font_italic {
  font-style: italic;
}

#uwkneayvxc .gt_super {
  font-size: 65%;
}

#uwkneayvxc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#uwkneayvxc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#uwkneayvxc .gt_indent_1 {
  text-indent: 5px;
}

#uwkneayvxc .gt_indent_2 {
  text-indent: 10px;
}

#uwkneayvxc .gt_indent_3 {
  text-indent: 15px;
}

#uwkneayvxc .gt_indent_4 {
  text-indent: 20px;
}

#uwkneayvxc .gt_indent_5 {
  text-indent: 25px;
}

#uwkneayvxc .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#uwkneayvxc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Summary from 100 simulations</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Method">Method</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Parameter">Parameter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Power">Power</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="Method" class="gt_row gt_left">RMST</td>
<td headers="Parameter" class="gt_row gt_left">10</td>
<td headers="Power" class="gt_row gt_right">0.06</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">FH(rho=0, gamma=0)</td>
<td headers="Power" class="gt_row gt_right">0.39</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">FH(rho=0, gamma=0.5)</td>
<td headers="Power" class="gt_row gt_right">0.53</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">MB(delay = Inf, max_weight = 2)</td>
<td headers="Power" class="gt_row gt_right">0.54</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">WLR</td>
<td headers="Parameter" class="gt_row gt_left">Xu 2017 with first 3 months of 0 weights</td>
<td headers="Power" class="gt_row gt_right">0.48</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">milestone</td>
<td headers="Parameter" class="gt_row gt_left">10</td>
<td headers="Power" class="gt_row gt_right">0.13</td>
</tr>
<tr>
<td headers="Method" class="gt_row gt_left">MaxCombo</td>
<td headers="Parameter" class="gt_row gt_left">FH(0, 0) + FH(0, 0.5)</td>
<td headers="Power" class="gt_row gt_right">0.52</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Keaven Anderson, Yujie Zhao, John Blischak, Yilong Zhang. Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3. <br>Copyright © 2025 Merck &amp; Co., Inc., Rahway, NJ, USA and its affiliates. All rights reserved.</p>
</div>

<div class="pkgdown-footer-right">
  <p><span></span></p>
</div>

    </footer>
</div>





  </body>
</html>
