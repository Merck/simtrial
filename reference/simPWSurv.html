<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate a stratified time-to-event outcome randomized trial — simPWSurv • simtrial</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Simulate a stratified time-to-event outcome randomized trial — simPWSurv" />
<meta property="og:description" content="simPWSurv enables simulation of a clinical trial with essentially arbitrary
patterns of enrollment, failure rates and censoring.
The piecewise exponential distribution allows a simple method to specify a distribtuion
and enrollment pattern
where the enrollment, failure and dropout rate changes over time.
While the main purpose may be to generate a trial that can be analyzed at a single point in time or
using group sequential methods, the routine can also be used to simulate an adaptive trial design.
Enrollment, failure and dropout rates are specified by treatment group, stratum and time period.
Fixed block randomization is used; blocks must include treatments provided in failure and dropout
specification.
Default arguments are set up to allow very simple implementation of a non-proportional hazards assumption
for an unstratified design." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simtrial</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/arbitraryhazard.html">Approximating an arbitrary hazard function</a>
    </li>
    <li>
      <a href="../articles/modestWLRTVignette.html">Using the Magirr-Burman weights for testing</a>
    </li>
    <li>
      <a href="../articles/pMaxComboVignette.html">Computing p-values for Fleming-Harring weighted logrank tests and the MaxCombo test</a>
    </li>
    <li>
      <a href="../articles/simtrialroutines.html">Basic tools for time-to-event trial simulation and testing</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate a stratified time-to-event outcome randomized trial</h1>
    
    <div class="hidden name"><code>simPWSurv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>simPWSurv</code> enables simulation of a clinical trial with essentially arbitrary
patterns of enrollment, failure rates and censoring.
The piecewise exponential distribution allows a simple method to specify a distribtuion
and enrollment pattern
where the enrollment, failure and dropout rate changes over time.
While the main purpose may be to generate a trial that can be analyzed at a single point in time or
using group sequential methods, the routine can also be used to simulate an adaptive trial design.
Enrollment, failure and dropout rates are specified by treatment group, stratum and time period.
Fixed block randomization is used; blocks must include treatments provided in failure and dropout
specification.
Default arguments are set up to allow very simple implementation of a non-proportional hazards assumption
for an unstratified design.</p>
    </div>

    <pre class="usage"><span class='fu'>simPWSurv</span><span class='op'>(</span>
  n <span class='op'>=</span> <span class='fl'>100</span>,
  strata <span class='op'>=</span> <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum <span class='op'>=</span> <span class='st'>"All"</span>, p <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
  block <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Control"</span>, <span class='fl'>2</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Experimental"</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,
  enrollRates <span class='op'>=</span> <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>rate <span class='op'>=</span> <span class='fl'>9</span>, duration <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
  failRates <span class='op'>=</span> <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"All"</span>, <span class='fl'>4</span><span class='op'>)</span>, period <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>, <span class='fl'>2</span><span class='op'>)</span>, Treatment <span class='op'>=</span>
    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Control"</span>, <span class='fl'>2</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Experimental"</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>, duration <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>1</span><span class='op'>)</span>, <span class='fl'>2</span><span class='op'>)</span>, rate <span class='op'>=</span>
    <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>9</span>, <span class='fl'>9</span>, <span class='fl'>9</span>, <span class='fl'>18</span><span class='op'>)</span><span class='op'>)</span>,
  dropoutRates <span class='op'>=</span> <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"All"</span>, <span class='fl'>2</span><span class='op'>)</span>, period <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>)</span>, Treatment
    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Control"</span>, <span class='st'>"Experimental"</span><span class='op'>)</span>, duration <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>2</span><span class='op'>)</span>, rate <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>0.001</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>n</th>
      <td><p>Number of observations.
If length(n) &gt; 1, the length is taken to be the number required.</p></td>
    </tr>
    <tr>
      <th>strata</th>
      <td><p>A tibble with strata specified in `Stratum`, probability (incidence) of each stratum
in `p`</p></td>
    </tr>
    <tr>
      <th>block</th>
      <td><p>Vector of treatments to be included in each  block</p></td>
    </tr>
    <tr>
      <th>enrollRates</th>
      <td><p>Enrollment rates; see details and examples</p></td>
    </tr>
    <tr>
      <th>failRates</th>
      <td><p>Failure rates; see details and examples; note that treatments need
to be the same as input in block</p></td>
    </tr>
    <tr>
      <th>dropoutRates</th>
      <td><p>Dropout rates; see details and examples; note that treatments need
to be the same as input in block</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>tibble</code> with the following variables for each observation
<code>Stratum</code>,
<code>enrollTime</code> (enrollment time for the observation),
<code>Treatment</code> (treatment group; this will be one of the values in the input <code>block</code>),
<code>failTime</code> (failure time generated using <code><a href='rpwexp.html'>rpwexp()</a></code>),
<code>dropoutTime</code> (dropout time generated using <code><a href='rpwexp.html'>rpwexp()</a></code>),
<code>cte</code> (calendar time of enrollment plot the minimum of failure time and dropout time),
<code>fail</code> (indicator that <code>cte</code> was set using failure time; i.e., 1 is a failure, 0 is a dropout).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='co'># Tests</span>
 <span class='fu'>simPWSurv</span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>20</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 20 x 7</span>
#&gt; <span style='color: #949494;'># Groups:   Stratum, Treatment [2]</span>
#&gt;    Stratum enrollTime Treatment    failTime dropoutTime   cte  fail
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>           <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> All         0.028<span style='text-decoration: underline;'>4</span> Experimental    2.83        <span style='text-decoration: underline;'>2</span>024.  2.86     1
#&gt; <span style='color: #BCBCBC;'> 2</span> All         0.246  Experimental   37.1          967. 37.3      1
#&gt; <span style='color: #BCBCBC;'> 3</span> All         0.502  Control         4.98        <span style='text-decoration: underline;'>1</span>634.  5.48     1
#&gt; <span style='color: #BCBCBC;'> 4</span> All         0.757  Control         1.79         884.  2.54     1
#&gt; <span style='color: #BCBCBC;'> 5</span> All         0.767  Control         1.85         207.  2.62     1
#&gt; <span style='color: #BCBCBC;'> 6</span> All         0.777  Experimental   30.4         <span style='text-decoration: underline;'>1</span>972. 31.2      1
#&gt; <span style='color: #BCBCBC;'> 7</span> All         0.861  Control         4.66         310.  5.53     1
#&gt; <span style='color: #BCBCBC;'> 8</span> All         1.04   Experimental    0.676       <span style='text-decoration: underline;'>2</span>931.  1.71     1
#&gt; <span style='color: #BCBCBC;'> 9</span> All         1.48   Experimental   13.7          288. 15.2      1
#&gt; <span style='color: #BCBCBC;'>10</span> All         1.49   Experimental   11.1         <span style='text-decoration: underline;'>1</span>282. 12.6      1
#&gt; <span style='color: #BCBCBC;'>11</span> All         1.55   Control         9.61        <span style='text-decoration: underline;'>1</span>736. 11.2      1
#&gt; <span style='color: #BCBCBC;'>12</span> All         1.73   Control        20.2          166. 21.9      1
#&gt; <span style='color: #BCBCBC;'>13</span> All         2.33   Experimental    6.81        <span style='text-decoration: underline;'>1</span>137.  9.13     1
#&gt; <span style='color: #BCBCBC;'>14</span> All         2.33   Control         3.13         386.  5.46     1
#&gt; <span style='color: #BCBCBC;'>15</span> All         2.36   Experimental   20.5         <span style='text-decoration: underline;'>1</span>240. 22.9      1
#&gt; <span style='color: #BCBCBC;'>16</span> All         2.57   Control        76.6          687. 79.1      1
#&gt; <span style='color: #BCBCBC;'>17</span> All         2.62   Experimental    2.46         451.  5.08     1
#&gt; <span style='color: #BCBCBC;'>18</span> All         2.74   Control         7.80        <span style='text-decoration: underline;'>1</span>028. 10.5      1
#&gt; <span style='color: #BCBCBC;'>19</span> All         2.74   Experimental   11.9          589. 14.6      1
#&gt; <span style='color: #BCBCBC;'>20</span> All         2.87   Control         3.81        <span style='text-decoration: underline;'>1</span>206.  6.68     1</div><div class='input'> <span class='co'># 3:1 randomization</span>
 <span class='fu'>simPWSurv</span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>20</span>,block<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Experimental"</span>,<span class='fl'>3</span><span class='op'>)</span>,<span class='st'>"Control"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 20 x 7</span>
#&gt; <span style='color: #949494;'># Groups:   Stratum, Treatment [2]</span>
#&gt;    Stratum enrollTime Treatment    failTime dropoutTime    cte  fail
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>           <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> All          0.129 Experimental    12.2        220.   12.3      1
#&gt; <span style='color: #BCBCBC;'> 2</span> All          0.130 Experimental    45.0       <span style='text-decoration: underline;'>1</span>166.   45.1      1
#&gt; <span style='color: #BCBCBC;'> 3</span> All          0.132 Experimental    61.0        221.   61.1      1
#&gt; <span style='color: #BCBCBC;'> 4</span> All          0.134 Control         17.3         90.3  17.4      1
#&gt; <span style='color: #BCBCBC;'> 5</span> All          0.167 Experimental     9.66       259.    9.83     1
#&gt; <span style='color: #BCBCBC;'> 6</span> All          0.215 Experimental    11.1        637.   11.3      1
#&gt; <span style='color: #BCBCBC;'> 7</span> All          0.276 Control         44.3       <span style='text-decoration: underline;'>1</span>668.   44.5      1
#&gt; <span style='color: #BCBCBC;'> 8</span> All          0.694 Experimental     2.44       102.    3.13     1
#&gt; <span style='color: #BCBCBC;'> 9</span> All          0.710 Experimental   100.         523.  101.       1
#&gt; <span style='color: #BCBCBC;'>10</span> All          0.905 Experimental    17.9        284.   18.8      1
#&gt; <span style='color: #BCBCBC;'>11</span> All          0.926 Control          5.69       387.    6.62     1
#&gt; <span style='color: #BCBCBC;'>12</span> All          1.02  Experimental    40.2        953.   41.2      1
#&gt; <span style='color: #BCBCBC;'>13</span> All          1.08  Experimental     6.39        61.0   7.47     1
#&gt; <span style='color: #BCBCBC;'>14</span> All          1.10  Control          7.97      <span style='text-decoration: underline;'>1</span>310.    9.07     1
#&gt; <span style='color: #BCBCBC;'>15</span> All          1.39  Experimental    17.1        980.   18.5      1
#&gt; <span style='color: #BCBCBC;'>16</span> All          1.51  Experimental    10.7         96.0  12.2      1
#&gt; <span style='color: #BCBCBC;'>17</span> All          1.55  Experimental     5.43      <span style='text-decoration: underline;'>1</span>348.    6.98     1
#&gt; <span style='color: #BCBCBC;'>18</span> All          1.60  Experimental    23.0        329.   24.6      1
#&gt; <span style='color: #BCBCBC;'>19</span> All          1.71  Experimental    23.2       <span style='text-decoration: underline;'>1</span>445.   25.0      1
#&gt; <span style='color: #BCBCBC;'>20</span> All          1.79  Control         11.7        876.   13.5      1</div><div class='input'>
<span class='co'># Simulate 2 strata; will use defaults for blocking and enrollRates</span>
<span class='fu'>simPWSurv</span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>20</span>,
          <span class='co'># 2 strata,30% and 70% prevalence</span>
          strata<span class='op'>=</span><span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Low"</span>,<span class='st'>"High"</span><span class='op'>)</span>,p<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.3</span>,<span class='fl'>.7</span><span class='op'>)</span><span class='op'>)</span>,
          failRates<span class='op'>=</span><span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Low"</span>,<span class='fl'>4</span><span class='op'>)</span>,<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"High"</span>,<span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>,
                                   period<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>,<span class='fl'>4</span><span class='op'>)</span>,
                                   Treatment<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Control"</span>,<span class='fl'>2</span><span class='op'>)</span>,<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Experimental"</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,<span class='fl'>2</span><span class='op'>)</span>,
                                   duration<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>,<span class='fl'>1</span><span class='op'>)</span>,<span class='fl'>4</span><span class='op'>)</span>,
                                   rate<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.03</span>,<span class='fl'>.05</span>,<span class='fl'>.03</span>,<span class='fl'>.03</span>,<span class='fl'>.05</span>,<span class='fl'>.08</span>,<span class='fl'>.07</span>,<span class='fl'>.04</span><span class='op'>)</span><span class='op'>)</span>,
          dropoutRates<span class='op'>=</span><span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Low"</span>,<span class='fl'>2</span><span class='op'>)</span>,<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"High"</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,
                                      period<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>4</span><span class='op'>)</span>,
                                      Treatment<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Control"</span>,<span class='st'>"Experimental"</span><span class='op'>)</span>,<span class='fl'>2</span><span class='op'>)</span>,
                                      duration<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>4</span><span class='op'>)</span>,
                                      rate<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>.001</span>,<span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 20 x 7</span>
#&gt; <span style='color: #949494;'># Groups:   Stratum, Treatment [4]</span>
#&gt;    Stratum enrollTime Treatment    failTime dropoutTime   cte  fail
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>           <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> Low          0.214 Control        51.0        425.   51.2      1
#&gt; <span style='color: #BCBCBC;'> 2</span> High         0.499 Experimental   67.9        776.   68.4      1
#&gt; <span style='color: #BCBCBC;'> 3</span> High         0.522 Control         4.98      <span style='text-decoration: underline;'>1</span>611.    5.50     1
#&gt; <span style='color: #BCBCBC;'> 4</span> Low          0.635 Experimental   25.4       <span style='text-decoration: underline;'>3</span>510.   26.1      1
#&gt; <span style='color: #BCBCBC;'> 5</span> Low          0.678 Control        21.4        324.   22.1      1
#&gt; <span style='color: #BCBCBC;'> 6</span> High         0.740 Control         3.85      <span style='text-decoration: underline;'>1</span>123.    4.59     1
#&gt; <span style='color: #BCBCBC;'> 7</span> High         1.05  Experimental   31.4        418.   32.4      1
#&gt; <span style='color: #BCBCBC;'> 8</span> Low          1.56  Experimental   33.2       <span style='text-decoration: underline;'>3</span>583.   34.8      1
#&gt; <span style='color: #BCBCBC;'> 9</span> Low          1.58  Experimental   74.7          7.82  9.40     0
#&gt; <span style='color: #BCBCBC;'>10</span> High         1.67  Control         9.36       708.   11.0      1
#&gt; <span style='color: #BCBCBC;'>11</span> High         1.72  Control        21.8         75.2  23.5      1
#&gt; <span style='color: #BCBCBC;'>12</span> Low          1.76  Experimental   61.9        498.   63.6      1
#&gt; <span style='color: #BCBCBC;'>13</span> High         1.77  Experimental    0.319      228.    2.09     1
#&gt; <span style='color: #BCBCBC;'>14</span> Low          1.98  Control        19.4       <span style='text-decoration: underline;'>2</span>012.   21.4      1
#&gt; <span style='color: #BCBCBC;'>15</span> High         2.13  Experimental    0.470      350.    2.60     1
#&gt; <span style='color: #BCBCBC;'>16</span> Low          2.33  Control        53.4       <span style='text-decoration: underline;'>2</span>780.   55.7      1
#&gt; <span style='color: #BCBCBC;'>17</span> Low          2.38  Experimental   26.7       <span style='text-decoration: underline;'>1</span>515.   29.0      1
#&gt; <span style='color: #BCBCBC;'>18</span> High         2.44  Experimental   58.3       <span style='text-decoration: underline;'>1</span>577.   60.8      1
#&gt; <span style='color: #BCBCBC;'>19</span> High         2.58  Control        15.4        390.   17.9      1
#&gt; <span style='color: #BCBCBC;'>20</span> Low          2.69  Control         5.18       304.    7.87     1</div><div class='input'>
<span class='co'># If you want a more rectangular entry for a tibble</span>
<span class='va'>failRates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Control"</span>     ,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.03</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.03</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>2</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.02</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Control"</span>     ,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.05</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.06</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>2</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.03</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='va'>dropoutRates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Control"</span>     ,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.001</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.001</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Control"</span>     ,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.001</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.001</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>simPWSurv</span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>12</span>,strata<span class='op'>=</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Low"</span>,<span class='st'>"High"</span><span class='op'>)</span>,p<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.3</span>,<span class='fl'>.7</span><span class='op'>)</span><span class='op'>)</span>,
         failRates<span class='op'>=</span><span class='va'>failRates</span>,dropoutRates<span class='op'>=</span><span class='va'>dropoutRates</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 12 x 7</span>
#&gt; <span style='color: #949494;'># Groups:   Stratum, Treatment [4]</span>
#&gt;    Stratum enrollTime Treatment    failTime dropoutTime   cte  fail
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>           <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> High        0.066<span style='text-decoration: underline;'>4</span> Experimental    2.12       553.    2.18     1
#&gt; <span style='color: #BCBCBC;'> 2</span> High        0.171  Control        18.2        149.   18.3      1
#&gt; <span style='color: #BCBCBC;'> 3</span> High        0.301  Control        64.6        182.   65.0      1
#&gt; <span style='color: #BCBCBC;'> 4</span> Low         0.322  Experimental    7.56      <span style='text-decoration: underline;'>3</span>880.    7.89     1
#&gt; <span style='color: #BCBCBC;'> 5</span> High        0.378  Experimental    1.58       158.    1.96     1
#&gt; <span style='color: #BCBCBC;'> 6</span> High        0.427  Experimental    0.914     <span style='text-decoration: underline;'>3</span>270.    1.34     1
#&gt; <span style='color: #BCBCBC;'> 7</span> High        0.638  Experimental   14.8        268.   15.5      1
#&gt; <span style='color: #BCBCBC;'> 8</span> High        0.670  Control        48.6        166.   49.3      1
#&gt; <span style='color: #BCBCBC;'> 9</span> High        0.883  Control         1.20      <span style='text-decoration: underline;'>1</span>480.    2.08     1
#&gt; <span style='color: #BCBCBC;'>10</span> High        0.927  Control        30.6        977.   31.5      1
#&gt; <span style='color: #BCBCBC;'>11</span> Low         1.15   Experimental    0.334     <span style='text-decoration: underline;'>1</span>116.    1.48     1
#&gt; <span style='color: #BCBCBC;'>12</span> Low         1.18   Control        32.7          9.13 10.3      0</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Keaven Anderson, Yilong Zhang. Site built with pkgdown 1.6.1.
  </p>
  <p>Copyright &copy; 2021 Merck Sharp & Dohme Corp., a subsidiary of Merck & Co., Inc., Kenilworth, NJ, USA.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


