<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate a stratified time-to-event outcome randomized trial — simPWSurv • simtrial</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Simulate a stratified time-to-event outcome randomized trial — simPWSurv" />
<meta property="og:description" content="simPWSurv enables simulation of a clinical trial with essentially arbitrary
patterns of enrollment, failure rates and censoring.
The piecewise exponential distribution allows a simple method to specify a distribtuion
and enrollment pattern
where the enrollment, failure and dropout rate changes over time.
While the main purpose may be to generate a trial that can be analyzed at a single point in time or
using group sequential methods, the routine can also be used to simulate an adaptive trial design.
Enrollment, failure and dropout rates are specified by treatment group, stratum and time period.
Fixed block randomization is used; blocks must include treatments provided in failure and dropout
specification.
Default arguments are set up to allow very simple implementation of a non-proportional hazards assumption
for an unstratified design." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simtrial</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Regulatory/Industry Training Version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/arbitraryhazard.html">Approximating an arbitrary hazard function</a>
    </li>
    <li>
      <a href="../articles/modestWLRTVignette.html">Using the Magirr-Burman weights for testing</a>
    </li>
    <li>
      <a href="../articles/pMaxComboVignette.html">Computing p-values for Fleming-Harring weighted logrank tests and the MaxCombo test</a>
    </li>
    <li>
      <a href="../articles/simtrialroutines.html">Basic tools for time-to-event trial simulation and testing</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate a stratified time-to-event outcome randomized trial</h1>
    
    <div class="hidden name"><code>simPWSurv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>simPWSurv</code> enables simulation of a clinical trial with essentially arbitrary
patterns of enrollment, failure rates and censoring.
The piecewise exponential distribution allows a simple method to specify a distribtuion
and enrollment pattern
where the enrollment, failure and dropout rate changes over time.
While the main purpose may be to generate a trial that can be analyzed at a single point in time or
using group sequential methods, the routine can also be used to simulate an adaptive trial design.
Enrollment, failure and dropout rates are specified by treatment group, stratum and time period.
Fixed block randomization is used; blocks must include treatments provided in failure and dropout
specification.
Default arguments are set up to allow very simple implementation of a non-proportional hazards assumption
for an unstratified design.</p>
    </div>

    <pre class="usage"><span class='fu'>simPWSurv</span><span class='op'>(</span>
  n <span class='op'>=</span> <span class='fl'>100</span>,
  strata <span class='op'>=</span> <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum <span class='op'>=</span> <span class='st'>"All"</span>, p <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
  block <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Control"</span>, <span class='fl'>2</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Experimental"</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,
  enrollRates <span class='op'>=</span> <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>rate <span class='op'>=</span> <span class='fl'>9</span>, duration <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
  failRates <span class='op'>=</span> <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"All"</span>, <span class='fl'>4</span><span class='op'>)</span>, period <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>, <span class='fl'>2</span><span class='op'>)</span>, Treatment <span class='op'>=</span>
    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Control"</span>, <span class='fl'>2</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Experimental"</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>, duration <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>1</span><span class='op'>)</span>, <span class='fl'>2</span><span class='op'>)</span>, rate <span class='op'>=</span>
    <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>9</span>, <span class='fl'>9</span>, <span class='fl'>9</span>, <span class='fl'>18</span><span class='op'>)</span><span class='op'>)</span>,
  dropoutRates <span class='op'>=</span> <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"All"</span>, <span class='fl'>2</span><span class='op'>)</span>, period <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>)</span>, Treatment
    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Control"</span>, <span class='st'>"Experimental"</span><span class='op'>)</span>, duration <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>2</span><span class='op'>)</span>, rate <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>0.001</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>n</th>
      <td><p>Number of observations.
If length(n) &gt; 1, the length is taken to be the number required.</p></td>
    </tr>
    <tr>
      <th>strata</th>
      <td><p>A tibble with strata specified in `Stratum`, probability (incidence) of each stratum
in `p`</p></td>
    </tr>
    <tr>
      <th>block</th>
      <td><p>Vector of treatments to be included in each  block</p></td>
    </tr>
    <tr>
      <th>enrollRates</th>
      <td><p>Enrollment rates; see details and examples</p></td>
    </tr>
    <tr>
      <th>failRates</th>
      <td><p>Failure rates; see details and examples; note that treatments need
to be the same as input in block</p></td>
    </tr>
    <tr>
      <th>dropoutRates</th>
      <td><p>Dropout rates; see details and examples; note that treatments need
to be the same as input in block</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>tibble</code> with the following variables for each observation
<code>Stratum</code>,
<code>enrollTime</code> (enrollment time for the observation),
<code>Treatment</code> (treatment group; this will be one of the values in the input <code>block</code>),
<code>failTime</code> (failure time generated using <code><a href='rpwexp.html'>rpwexp()</a></code>),
<code>dropoutTime</code> (dropout time generated using <code><a href='rpwexp.html'>rpwexp()</a></code>),
<code>cte</code> (calendar time of enrollment plot the minimum of failure time and dropout time),
<code>fail</code> (indicator that <code>cte</code> was set using failure time; i.e., 1 is a failure, 0 is a dropout).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='co'># Tests</span>
 <span class='fu'>simPWSurv</span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>20</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 20 x 7</span><span>
#&gt; </span><span style='color: #949494;'># Groups:   Stratum, Treatment [2]</span><span>
#&gt;    Stratum enrollTime Treatment    failTime dropoutTime    cte  fail
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>        </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>           </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>       </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> All          0.127 Experimental    72.0         9.07   9.19     0
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> All          0.133 Control         10.6      </span><span style='text-decoration: underline;'>1</span><span>284.    10.7      1
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> All          0.397 Control          1.17       36.5    1.56     1
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> All          0.575 Experimental     3.47     </span><span style='text-decoration: underline;'>1</span><span>947.     4.05     1
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> All          0.596 Control         10.2       873.    10.8      1
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> All          0.798 Experimental    18.7      </span><span style='text-decoration: underline;'>2</span><span>327.    19.5      1
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> All          0.831 Experimental    18.2       618.    19.0      1
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> All          0.850 Control          3.14     </span><span style='text-decoration: underline;'>2</span><span>649.     3.99     1
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> All          0.985 Experimental    23.3      </span><span style='text-decoration: underline;'>1</span><span>167.    24.3      1
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> All          1.02  Experimental    15.3       899.    16.3      1
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> All          1.04  Control         23.1       274.    24.2      1
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> All          1.15  Control         10.6       155.    11.8      1
#&gt; </span><span style='color: #BCBCBC;'>13</span><span> All          1.20  Control         37.3      </span><span style='text-decoration: underline;'>1</span><span>508.    38.5      1
#&gt; </span><span style='color: #BCBCBC;'>14</span><span> All          1.52  Control         25.3      </span><span style='text-decoration: underline;'>3</span><span>416.    26.8      1
#&gt; </span><span style='color: #BCBCBC;'>15</span><span> All          1.55  Experimental   107.        739.   109.       1
#&gt; </span><span style='color: #BCBCBC;'>16</span><span> All          1.56  Experimental    25.6      </span><span style='text-decoration: underline;'>1</span><span>005.    27.2      1
#&gt; </span><span style='color: #BCBCBC;'>17</span><span> All          1.64  Experimental    40.1      </span><span style='text-decoration: underline;'>2</span><span>037.    41.7      1
#&gt; </span><span style='color: #BCBCBC;'>18</span><span> All          1.78  Control          1.30      346.     3.08     1
#&gt; </span><span style='color: #BCBCBC;'>19</span><span> All          1.79  Control         44.6      </span><span style='text-decoration: underline;'>2</span><span>163.    46.4      1
#&gt; </span><span style='color: #BCBCBC;'>20</span><span> All          1.98  Experimental    11.2      </span><span style='text-decoration: underline;'>1</span><span>335.    13.2      1</div><div class='input'> <span class='co'># 3:1 randomization</span>
 <span class='fu'>simPWSurv</span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>20</span>,block<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Experimental"</span>,<span class='fl'>3</span><span class='op'>)</span>,<span class='st'>"Control"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 20 x 7</span><span>
#&gt; </span><span style='color: #949494;'># Groups:   Stratum, Treatment [2]</span><span>
#&gt;    Stratum enrollTime Treatment    failTime dropoutTime   cte  fail
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>        </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>           </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>       </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> All          0.144 Experimental    60.1         537. 60.3      1
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> All          0.192 Experimental    23.9         292. 24.1      1
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> All          0.379 Control          7.70        960.  8.08     1
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> All          0.436 Experimental     7.58        131.  8.01     1
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> All          1.09  Control         46.0         855. 47.1      1
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> All          1.14  Experimental     9.58        545. 10.7      1
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> All          1.31  Experimental    41.8        </span><span style='text-decoration: underline;'>1</span><span>777. 43.1      1
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> All          1.46  Experimental     6.12       </span><span style='text-decoration: underline;'>1</span><span>536.  7.57     1
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> All          1.61  Experimental     1.40        327.  3.01     1
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> All          1.68  Experimental    22.4        </span><span style='text-decoration: underline;'>1</span><span>645. 24.1      1
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> All          1.71  Experimental     9.27        118. 11.0      1
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> All          1.72  Control         19.7         512. 21.5      1
#&gt; </span><span style='color: #BCBCBC;'>13</span><span> All          1.74  Control          5.28        510.  7.02     1
#&gt; </span><span style='color: #BCBCBC;'>14</span><span> All          1.74  Experimental     3.22       </span><span style='text-decoration: underline;'>1</span><span>709.  4.96     1
#&gt; </span><span style='color: #BCBCBC;'>15</span><span> All          1.90  Experimental    31.3        </span><span style='text-decoration: underline;'>1</span><span>148. 33.2      1
#&gt; </span><span style='color: #BCBCBC;'>16</span><span> All          2.03  Experimental    28.5         938. 30.5      1
#&gt; </span><span style='color: #BCBCBC;'>17</span><span> All          2.30  Experimental     2.55       </span><span style='text-decoration: underline;'>1</span><span>725.  4.85     1
#&gt; </span><span style='color: #BCBCBC;'>18</span><span> All          2.39  Experimental     3.51       </span><span style='text-decoration: underline;'>2</span><span>093.  5.90     1
#&gt; </span><span style='color: #BCBCBC;'>19</span><span> All          2.43  Control         11.2         814. 13.6      1
#&gt; </span><span style='color: #BCBCBC;'>20</span><span> All          2.48  Experimental     3.88       </span><span style='text-decoration: underline;'>1</span><span>770.  6.36     1</div><div class='input'>
<span class='co'># Simulate 2 strata; will use defaults for blocking and enrollRates</span>
<span class='fu'>simPWSurv</span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>20</span>,
          <span class='co'># 2 strata,30% and 70% prevalence</span>
          strata<span class='op'>=</span><span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Low"</span>,<span class='st'>"High"</span><span class='op'>)</span>,p<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.3</span>,<span class='fl'>.7</span><span class='op'>)</span><span class='op'>)</span>,
          failRates<span class='op'>=</span><span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Low"</span>,<span class='fl'>4</span><span class='op'>)</span>,<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"High"</span>,<span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>,
                                   period<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>,<span class='fl'>4</span><span class='op'>)</span>,
                                   Treatment<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Control"</span>,<span class='fl'>2</span><span class='op'>)</span>,<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Experimental"</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,<span class='fl'>2</span><span class='op'>)</span>,
                                   duration<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>,<span class='fl'>1</span><span class='op'>)</span>,<span class='fl'>4</span><span class='op'>)</span>,
                                   rate<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.03</span>,<span class='fl'>.05</span>,<span class='fl'>.03</span>,<span class='fl'>.03</span>,<span class='fl'>.05</span>,<span class='fl'>.08</span>,<span class='fl'>.07</span>,<span class='fl'>.04</span><span class='op'>)</span><span class='op'>)</span>,
          dropoutRates<span class='op'>=</span><span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Low"</span>,<span class='fl'>2</span><span class='op'>)</span>,<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"High"</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,
                                      period<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>4</span><span class='op'>)</span>,
                                      Treatment<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Control"</span>,<span class='st'>"Experimental"</span><span class='op'>)</span>,<span class='fl'>2</span><span class='op'>)</span>,
                                      duration<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>4</span><span class='op'>)</span>,
                                      rate<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>.001</span>,<span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 20 x 7</span><span>
#&gt; </span><span style='color: #949494;'># Groups:   Stratum, Treatment [3]</span><span>
#&gt;    Stratum enrollTime Treatment    failTime dropoutTime    cte  fail
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>        </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>           </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>       </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> High        0.019</span><span style='text-decoration: underline;'>3</span><span> Control         7.35        534.   7.37      1
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> High        0.137  Experimental    7.76        939.   7.90      1
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> High        0.369  Control         5.54        651.   5.91      1
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> High        0.407  Experimental    0.112      </span><span style='text-decoration: underline;'>1</span><span>525.   0.519     1
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> High        0.435  Control        19.5         439.  19.9       1
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> High        0.633  Experimental   60.9          63.0 61.6       1
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> High        0.674  Experimental   27.1          22.8 23.5       0
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> High        0.720  Control         0.787      </span><span style='text-decoration: underline;'>1</span><span>219.   1.51      1
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> High        0.791  Experimental    8.41         33.1  9.20      1
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> High        1.13   Experimental   34.0          59.0 35.1       1
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> High        1.15   Control         8.60        230.   9.75      1
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> High        1.19   Control         2.93        677.   4.12      1
#&gt; </span><span style='color: #BCBCBC;'>13</span><span> High        1.55   Control         4.50         74.1  6.05      1
#&gt; </span><span style='color: #BCBCBC;'>14</span><span> Low         1.89   Control         7.72       </span><span style='text-decoration: underline;'>1</span><span>245.   9.62      1
#&gt; </span><span style='color: #BCBCBC;'>15</span><span> High        1.98   Experimental   34.9         811.  36.9       1
#&gt; </span><span style='color: #BCBCBC;'>16</span><span> High        2.09   Control         4.91       </span><span style='text-decoration: underline;'>1</span><span>244.   7.00      1
#&gt; </span><span style='color: #BCBCBC;'>17</span><span> High        2.19   Experimental   18.1        </span><span style='text-decoration: underline;'>4</span><span>649.  20.3       1
#&gt; </span><span style='color: #BCBCBC;'>18</span><span> High        2.32   Experimental   21.6        </span><span style='text-decoration: underline;'>1</span><span>187.  23.9       1
#&gt; </span><span style='color: #BCBCBC;'>19</span><span> High        2.34   Control        35.3         460.  37.7       1
#&gt; </span><span style='color: #BCBCBC;'>20</span><span> High        2.39   Control         3.60        750.   5.99      1</div><div class='input'>
<span class='co'># If you want a more rectangular entry for a tibble</span>
<span class='va'>failRates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Control"</span>     ,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.03</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.03</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>2</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.02</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Control"</span>     ,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.05</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.06</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>2</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.03</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='va'>dropoutRates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></span><span class='op'>(</span>
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Control"</span>     ,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.001</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"Low"</span> ,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.001</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Control"</span>     ,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.001</span><span class='op'>)</span>,
   <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='st'>"High"</span>,period<span class='op'>=</span><span class='fl'>1</span>,Treatment<span class='op'>=</span><span class='st'>"Experimental"</span>,duration<span class='op'>=</span><span class='fl'>3</span>,rate<span class='op'>=</span><span class='fl'>.001</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'>simPWSurv</span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>12</span>,strata<span class='op'>=</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>Stratum<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Low"</span>,<span class='st'>"High"</span><span class='op'>)</span>,p<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.3</span>,<span class='fl'>.7</span><span class='op'>)</span><span class='op'>)</span>,
         failRates<span class='op'>=</span><span class='va'>failRates</span>,dropoutRates<span class='op'>=</span><span class='va'>dropoutRates</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 12 x 7</span><span>
#&gt; </span><span style='color: #949494;'># Groups:   Stratum, Treatment [4]</span><span>
#&gt;    Stratum enrollTime Treatment    failTime dropoutTime    cte  fail
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>        </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>           </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>       </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> High        0.076</span><span style='text-decoration: underline;'>1</span><span> Control       16.9         </span><span style='text-decoration: underline;'>1</span><span>338.  16.9       1
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> High        0.203  Experimental  33.5         </span><span style='text-decoration: underline;'>1</span><span>113.  33.7       1
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> High        0.421  Experimental  11.8          407.  12.3       1
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> Low         0.555  Experimental  40.8         </span><span style='text-decoration: underline;'>1</span><span>378.  41.3       1
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> High        0.699  Control        3.11         504.   3.81      1
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> High        0.841  Experimental   0.039</span><span style='text-decoration: underline;'>5</span><span>      </span><span style='text-decoration: underline;'>1</span><span>426.   0.881     1
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> Low         1.15   Experimental  48.6          251.  49.8       1
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> High        1.35   Control       22.3         </span><span style='text-decoration: underline;'>1</span><span>587.  23.6       1
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> High        1.41   Experimental  68.0          161.  69.4       1
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> High        1.46   Control       28.0          376.  29.5       1
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> Low         1.68   Control       17.5          879.  19.2       1
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> High        1.76   Control       32.5           78.5 34.3       1</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Keaven Anderson, Yilong Zhang. Site built with pkgdown 1.6.1.
  </p>
  <p>Copyright &copy; 2021 Merck Sharp & Dohme Corp., a subsidiary of Merck & Co., Inc., Kenilworth, NJ, USA.</p>
<<<<<<< HEAD
</div>
=======
</div>
>>>>>>> 8da6ac0d6f0042026e5db4aae1934a972cd63c44

      </footer>
   </div>

  


  </body>
</html>


